import{r as l,j as e,c as an}from"./js/react-ui-CBJt7f6R.js";import{J as F,y as rn,K as fe,S as B}from"./js/btc-transaction-DE7NPNC8.js";import{X as $,n as on,p as ln,x as cn}from"./js/btc-bitcoin-Bf5jF1x3.js";import{J as ue,g as Qe,O as dn}from"./js/opnet-B5PKPTEr.js";const St=l.createContext(void 0),ke=()=>{const n=l.useContext(St);if(!n)throw new Error("useCore must be used within a UserProvider");return n},un={UserRejected:"Wallet Dialog was closed by the user",UnknownError:"Unknown error occurred",IndexingInProgress:"Node is still indexing. Please try again shortly"},ge={...un},hn={"User rejected the request.":ge.UserRejected,"TypeError: Cannot read properties of undefined (reading 'addresses')":ge.UserRejected},mn={"TEST_CASE: empty":"","TEST_CASE: simple":"simple","TEST_CASE: regex1 ${value}":"regex1","TEST_CASE: regex2 ${value}":"regex2 $1","Test case empty":"","Test case simple":"simple","Test case regex1 ${value}":"regex1","Test case regex2 ${value.get()}":"regex2 $1","TEST_MULTI: multi1":{en:"Test English","en-US":"Test American English",fr:"Test French","fr-CA":"Test Canadian French"},"TEST_MULTI: multi2 ${value}":{en:"Test English: $1","en-US":"Test American English: $1",fr:"Test French: $1","fr-CA":"Test Canadian French: $1"}},Tt={"NATIVE_SWAP: Liquidity value is too low in satoshis.":ge.NativeSwapLiquidityValueTooLow,"Unknown Error":ge.UnknownError,"Invalid Address":ge.IndexingInProgress,"Error Indexing at Block":ge.IndexingInProgress,"Valid Reservation for this Address":ge.NoValidReservation,...hn,...mn},ut=Object.entries(Tt).filter(([n,t])=>!!t&&!n.includes("${")).sort((n,t)=>t[0].length-n[0].length).map(([n,t])=>[n,n.toLowerCase(),t]),pn=n=>n.replace(/\(/g,"\\(").replace(/\)/g,"\\)").replace(/\./g,"\\.").replace(/\$\{.*?}/g,"(.+)"),fn=Object.entries(Tt).filter(([n,t])=>!!t&&n.includes("${")).sort((n,t)=>t[0].length-n[0].length).map(([n,t])=>[n,new RegExp(pn(n),"i"),t]),gn=new RegExp("^(.*?):\\s*(?:([^:]+):)?\\s*(.*?)\\s+at\\s(\\S+\\s\\()?\\S+\\d+:\\d+\\)?","m"),xn=(n,t)=>{switch(t){case"en":return n.en||"";case"en-us":return n["en-US"]||"";case"fr":return n.fr||"";case"fr-ca":return n["fr-CA"]||"";default:return""}},Ke=(n,t)=>{if(typeof n=="string")return n;for(const s of t){const a=xn(n,s);if(a)return a}return n.en},wn=n=>{const t=n.map(s=>s.toLowerCase().trim());for(const s of t){const a=s.split("-")[0];t.includes(a)||t.push(a)}return t},ht=(n,t=["en"])=>{const[,,s]=yn(n.toString(),t);return s},yn=(n,t=["en"])=>{const s=wn(t),a=gn.exec(n),r=a?a[2]:"";let i=a?a[3]:n;const o=`${r}: ${i}`.trim(),d=o.toLowerCase();for(const[c,u,h]of fn){const m=u.exec(o);if(m){i=Ke(h,s)||i;for(let f=0;f<m.length;f++){const w=new RegExp(`\\$${f}`,"g");i=i.replace(w,m[f]??"")}return[c,u.source,i]}}for(const[c,u,h]of ut)if(d==u)return[c,u,Ke(h,s)||i];for(const[c,u,h]of ut)if(d.includes(u))return[c,u,Ke(h,s)||i];return["","",i]};class L{static wallets=new Map;static currentWallet=null;static getWallets=()=>[...L.wallets.values()];static isWalletInstalled(t){return this.wallets.get(t)?.controller?.isInstalled()||!1}static getWalletType(){return L.currentWallet?.name||null}static getWalletInstance(){const t=this.currentWallet;if(!t)return null;const s=t.controller.getWalletInstance();return s?new Proxy(s,{}):null}static async getProvider(){const t=this.currentWallet;if(!t)return null;const s=await t.controller.getProvider();return s?new Proxy(s,{}):null}static async getSigner(){const t=this.currentWallet;return t?await t.controller.getSigner():null}static convertChainTypeToNetwork(t){const s=(a,r)=>({...a,chainType:t,network:r});switch(t){case F.BITCOIN_REGTEST:return s($.regtest,"regtest");case F.OPNET_TESTNET:return s($.opnetTestnet,"testnet");case F.BITCOIN_MAINNET:return s($.bitcoin,"mainnet");case F.BITCOIN_TESTNET:case F.BITCOIN_TESTNET4:case F.BITCOIN_SIGNET:case F.FRACTAL_BITCOIN_TESTNET:case F.FRACTAL_BITCOIN_MAINNET:default:return null}}static async getNetwork(){const t=this.currentWallet;if(!t)return null;const s=await t.controller.getNetwork();return this.convertChainTypeToNetwork(s)}static async getPublicKey(){const t=this.currentWallet;return t?t.controller.getPublicKey():null}static async canAutoConnect(t){const s=this.wallets.get(t);return s&&await s.controller.canAutoConnect()||!1}static async connect(t){const s=this.wallets.get(t);if(!s)return{code:404,data:{message:ht("Wallet not found")}};try{const a=await s.controller.connect();return await this.disconnectIfWalletChanged(s),this.currentWallet=s,{code:200,data:a}}catch(a){return{code:499,data:{message:ht(a?.message||a)}}}}static async disconnectIfWalletChanged(t){const s=this.currentWallet;s&&s.name!=t.name&&(await this.disconnect(),this.unbindHooks())}static async disconnect(){const t=this.currentWallet;t&&(await t.controller.disconnect(),this.currentWallet=null)}static setAccountsChangedHook(t){const s=this.currentWallet;s&&(s.controller.removeAccountsChangedHook(),s.controller.setAccountsChangedHook(t))}static setDisconnectHook(t){const s=this.currentWallet;s&&(s.controller.removeDisconnectHook(),s.controller.setDisconnectHook(t))}static setChainChangedHook(t){const s=this.currentWallet;if(!s){console.log("No current wallet to set network switch hook for");return}s.controller.removeChainChangedHook(),s.controller.setChainChangedHook(a=>{const r=this.convertChainTypeToNetwork(a);r&&t(r)})}static removeAccountsChangedHook(){const t=this.currentWallet;if(!t){console.log("No current wallet to remove accounts changed hook from");return}try{t.controller.removeAccountsChangedHook()}catch(s){console.error("Error removing accounts changed hook:",s)}}static removeDisconnectHook(){const t=this.currentWallet;if(!t){console.log("No current wallet to remove disconnect hook from");return}try{t.controller.removeDisconnectHook()}catch(s){console.error("Error removing disconnect hook:",s)}}static removeChainChangedHook(){const t=this.currentWallet;if(!t){console.log("No current wallet to remove network change hook from");return}try{t.controller.removeChainChangedHook()}catch(s){console.error("Error removing network change hook:",s)}}static registerWallet=t=>{this.wallets.set(t.name,t)};static unbindHooks(){this.removeDisconnectHook(),this.removeChainChangedHook(),this.removeAccountsChangedHook()}static async getMLDSAPublicKey(){const t=this.currentWallet;return t?t.controller.getMLDSAPublicKey():null}static async getHashedMLDSAKey(){const t=this.currentWallet;return t?t.controller.getHashedMLDSAKey():null}static async signMLDSAMessage(t){const s=this.currentWallet;return s?s.controller.signMLDSAMessage(t):null}static async verifyMLDSASignature(t,s){const a=this.currentWallet;return a?a.controller.verifyMLDSASignature(t,s):!1}}const Z="OP_WALLET is not installed";class vn{walletBase;accountsChangedHookWrapper;chainChangedHookWrapper;disconnectHookWrapper;_isConnected=!1;isInstalled(){return typeof window>"u"?!1:(this.walletBase=window.opnet,!!this.walletBase)}isConnected(){return!!this.walletBase&&this._isConnected}async canAutoConnect(){return(await this.walletBase?.getAccounts()||[]).length>0}getChainId(){throw new Error("Method not implemented.")}async connect(){if(!this.isInstalled()||!this.walletBase)throw new Error(Z);return this.walletBase.requestAccounts().then(t=>(this._isConnected=t.length>0,t))}async disconnect(){if(!this.isInstalled()||!this.walletBase)throw new Error(Z);return this._isConnected?await this.walletBase.disconnect().then(()=>{this._isConnected=!1}):void 0}getWalletInstance(){return this._isConnected&&this.walletBase||null}async getProvider(){if(!this._isConnected||!this.walletBase)return null;switch((await this.walletBase.getChain()).enum){case F.BITCOIN_MAINNET:return new ue({url:"https://mainnet.opnet.org",network:$.bitcoin});case F.OPNET_TESTNET:return new ue({url:"https://testnet.opnet.org",network:$.opnetTestnet});case F.BITCOIN_REGTEST:return new ue({url:"https://regtest.opnet.org",network:$.regtest});default:return null}}async getSigner(){return Promise.resolve(null)}getPublicKey(){if(!this.isInstalled()||!this.walletBase)throw new Error(Z);return this.walletBase.getPublicKey()}async getNetwork(){if(!this.isInstalled()||!this.walletBase)throw new Error(Z);const t=await this.walletBase.getChain();if(!t)throw new Error("Failed to retrieve chain information");return t.enum}setAccountsChangedHook(t){if(console.log("Setting account changed hook for OPWallet"),!this.isInstalled()||!this.walletBase)throw new Error(Z);this.accountsChangedHookWrapper=s=>{console.log("OPWallet Account Changed Hook",s,s.length),s.length>0?t(s):(console.log("OPWallet Account Changed Hook --> Disconnect",s.length,!!this.disconnectHookWrapper),this._isConnected=!1,this.disconnectHookWrapper?.())},this.walletBase.on("accountsChanged",this.accountsChangedHookWrapper)}removeAccountsChangedHook(){if(!this.isInstalled()||!this.walletBase)throw new Error(Z);this.accountsChangedHookWrapper&&(console.log("Removing account changed hook for OPWallet"),this.walletBase.removeListener("accountsChanged",this.accountsChangedHookWrapper),this.accountsChangedHookWrapper=void 0)}setDisconnectHook(t){if(console.log("Setting disconnect hook for OPWallet"),!this.isInstalled()||!this.walletBase)throw new Error(Z);this.disconnectHookWrapper=()=>{console.log("OPWallet Disconnecting Hook"),t()},this.walletBase.on("disconnect",this.disconnectHookWrapper)}removeDisconnectHook(){if(!this.isInstalled()||!this.walletBase)throw new Error(Z);this.disconnectHookWrapper&&(console.log("Removing disconnect hook for OPWallet"),this.walletBase.removeListener("disconnect",this.disconnectHookWrapper),this.disconnectHookWrapper=void 0)}setChainChangedHook(t){if(console.log("Setting chain changed hook for OPWallet"),!this.isInstalled()||!this.walletBase)throw new Error(Z);this.chainChangedHookWrapper=s=>{console.log("OPWallet ChainChanged Hook",s),t(s.enum)},this.walletBase.on("chainChanged",this.chainChangedHookWrapper)}removeChainChangedHook(){if(!this.isInstalled()||!this.walletBase)throw new Error(Z);this.chainChangedHookWrapper&&(console.log("Removing chain changed hook for OPWallet"),this.walletBase.removeListener("chainChanged",this.chainChangedHookWrapper),this.chainChangedHookWrapper=void 0)}async getMLDSAPublicKey(){return!this._isConnected||!this.walletBase?.web3?null:this.walletBase.web3.getMLDSAPublicKey()}async getHashedMLDSAKey(){const t=await this.getMLDSAPublicKey();if(!t)return null;const s=on(t),a=ln(s);return cn(a)}async signMLDSAMessage(t){return!this._isConnected||!this.walletBase?.web3?null:this.walletBase.web3.signMLDSAMessage(t)}async verifyMLDSASignature(t,s){return!this._isConnected||!this.walletBase?.web3?!1:this.walletBase.web3.verifyMLDSASignature(t,s)}}const jn="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgxIiBoZWlnaHQ9IjExMiIgdmlld0JveD0iMCAwIDQ4MSAxMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8wXzMpIj4KPHBhdGggZD0iTTIzNS40IDE4LjVMMjI4LjcgNTcuMUgyMjguMkwyMTkuNCAxOC41SDIwOUwyMDAuNSA1Ni45SDE5OS43TDE5My4xIDE4LjVIMTc4LjFMMTkyLjIgNzQuOEgxOTIuM0gyMDQuOEwyMTMuNiAzOC4ySDIxNC4yTDIyMi41IDc0LjhIMjM1LjRMMjQ5LjUgMTguNUgyMzUuNFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0yNjguOSAxOC41TDI0Ny41IDc0LjhIMjYxLjVMMjY0Ljc5IDY0LjZIMjg0LjcxTDI4OCA3NC44SDMwMi42TDI4MS4yIDE4LjVIMjY4LjlaTTI3NC43IDMyLjZIMjc1LjFMMjgxLjU5IDUzLjNIMjY4LjAzTDI3NC43IDMyLjZaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMzIyLjMgMTguNUgzMDguMlY3NC44SDM0Mi4xVjYzSDMyMi4zVjE4LjVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNMzY1LjQgMTguNUgzNTEuM1Y3NC44SDM4NS4yVjYzSDM2NS40VjE4LjVaIiBmaWxsPSJ3aGl0ZSIvPgo8cGF0aCBkPSJNNDM4LjQgMTguNVYzMC40SDQ1Mi41Vjc0LjhINDY2LjVWMzAuNEg0ODAuNlYxOC41SDQzOC40WiIgZmlsbD0id2hpdGUiLz4KPHBhdGggZD0iTTM5My41IDc0LjhINDMxLjNWNjMuNkg0MDdWNTEuOUg0MjIuNVY0MC44SDQwN1YyOS44SDQzMS4zVjE4LjVIMzkzLjVWNzQuOFoiIGZpbGw9IndoaXRlIi8+CjxwYXRoIGQ9Ik0xNjQuMjggNDUuMzVDMTYzLjYxIDIwLjY4IDE0Mi44NSAwLjI4IDExOC4xNyAwQzEwOS40OCAtMC4xIDEwMS4zNSAyLjIxIDk0LjM2IDYuMjZDOTEuNzggNy43NSA5MS4wNyAxMS4xNyA5Mi44MSAxMy41OUM5Ni4yNiAxOC4zOSA5OC45NiAyMy43NSAxMDAuNzkgMjkuNUMxMDEuOCAzMi43IDEwNS42MSAzMy43MyAxMDguNDUgMzEuOTNDMTEyIDI5LjY4IDExNi40MiAyOC42OCAxMjEuMTMgMjkuNkMxMjcuNjYgMzAuODcgMTMzLjA4IDM2LjA0IDEzNC41NyA0Mi41M0MxMzcuMTkgNTMuOTMgMTI4LjYgNjQuMDQgMTE3LjY1IDY0LjA0QzExNC4yNCA2NC4wNCAxMTEuMDcgNjMuMDUgMTA4LjQgNjEuMzRDMTA1LjU4IDU5LjU0IDEwMS43OCA2MC42OCAxMDAuNzcgNjMuODdDOTYuMjkgNzcuOTIgODYuNSA4OS41OSA3My43NSA5Ni41NEM3Mi4wOCA5Ny40NSA3MC45OSA5OS4xNCA3MC45OSAxMDEuMDRWMTA2LjYyQzcwLjk5IDEwOS40MiA3My4yNiAxMTEuNjkgNzYuMDYgMTExLjY5SDk1LjE5Qzk3Ljk5IDExMS42OSAxMDAuMjYgMTA5LjQyIDEwMC4yNiAxMDYuNjJWOTYuODZDMTAwLjI2IDkzLjUxIDEwMy40MyA5MS4xOSAxMDYuNjggOTEuOTlDMTEwLjIgOTIuODUgMTEzLjg3IDkzLjMxIDExNy42NSA5My4zMUMxNDMuODUgOTMuMzEgMTY1LjAxIDcxLjcxIDE2NC4yOSA0NS4zNUgxNjQuMjhaIiBmaWxsPSIjRUU3NzFCIi8+CjxwYXRoIGQ9Ik00Ni42NiAwQzIwLjg5IDAgMCAyMC44OSAwIDQ2LjY2QzAgNzIuNDMgMjAuODkgOTMuMzIgNDYuNjYgOTMuMzJDNzIuNDMgOTMuMzIgOTMuMzIgNzIuNDMgOTMuMzIgNDYuNjZDOTMuMzIgMjAuODkgNzIuNDMgMCA0Ni42NiAwWk00Ni42NiA2NC4wNUMzNy4wNiA2NC4wNSAyOS4yNyA1Ni4yNiAyOS4yNyA0Ni42NkMyOS4yNyAzNy4wNiAzNy4wNiAyOS4yNyA0Ni42NiAyOS4yN0M1Ni4yNiAyOS4yNyA2NC4wNSAzNy4wNiA2NC4wNSA0Ni42NkM2NC4wNSA1Ni4yNiA1Ni4yNiA2NC4wNSA0Ni42NiA2NC4wNVoiIGZpbGw9IndoaXRlIi8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMF8zIj4KPHJlY3Qgd2lkdGg9IjQ4MC42IiBoZWlnaHQ9IjExMS43IiBmaWxsPSJ3aGl0ZSIvPgo8L2NsaXBQYXRoPgo8L2RlZnM+Cjwvc3ZnPgo=";var Ce;(function(n){n.OP_WALLET="OP_WALLET",n.UNISAT="UNISAT"})(Ce||(Ce={}));const Q="UNISAT is not installed";class Nn{walletBase;accountsChangedHookWrapper;chainChangedHookWrapper;disconnectHookWrapper;_isConnected=!1;isInstalled(){return typeof window>"u"?!1:(this.walletBase=window.unisat,!!this.walletBase)}isConnected(){return!!this.walletBase&&this._isConnected}async canAutoConnect(){return(await this.walletBase?.getAccounts()||[]).length>0}getWalletInstance(){return this._isConnected&&this.walletBase||null}async getProvider(){if(!this._isConnected||!this.walletBase)return null;switch((await this.walletBase.getChain()).enum){case F.BITCOIN_MAINNET:return new ue({url:"https://mainnet.opnet.org",network:$.bitcoin});case F.OPNET_TESTNET:return new ue({url:"https://testnet.opnet.org",network:$.opnetTestnet});case F.BITCOIN_REGTEST:return new ue({url:"https://regtest.opnet.org",network:$.regtest});default:return null}}async getSigner(){const t=new rn;return await t.init(),t}getChainId(){throw new Error("Method not implemented.")}async connect(){if(!this.isInstalled()||!this.walletBase)throw new Error(Q);return this.walletBase.requestAccounts().then(t=>(this._isConnected=t.length>0,t))}async disconnect(){if(!this.isInstalled()||!this.walletBase)throw new Error(Q);return this._isConnected?await this.walletBase.disconnect().then(()=>{this._isConnected=!1}):void 0}getPublicKey(){if(!this.isInstalled()||!this.walletBase)throw new Error(Q);return this.walletBase.getPublicKey()}async getNetwork(){if(!this.isInstalled()||!this.walletBase)throw new Error(Q);const t=await this.walletBase.getChain();if(!t)throw new Error("Failed to retrieve chain information");return t.enum}setAccountsChangedHook(t){if(console.log("Setting account changed hook for Unisat"),!this.isInstalled()||!this.walletBase)throw new Error(Q);this.accountsChangedHookWrapper=s=>{console.log("Unisat Account Changed Hook",s,s.length),s.length>0?t(s):(console.log("Unisat Account Changed Hook --> Disconnect",s.length,!!this.disconnectHookWrapper),this._isConnected=!1,this.disconnectHookWrapper?.())},this.walletBase.on("accountsChanged",this.accountsChangedHookWrapper)}removeAccountsChangedHook(){if(!this.isInstalled()||!this.walletBase)throw new Error(Q);this.accountsChangedHookWrapper&&(console.log("Removing account changed hook for Unisat"),this.walletBase.removeListener("accountsChanged",this.accountsChangedHookWrapper),this.accountsChangedHookWrapper=void 0)}setDisconnectHook(t){if(console.log("Setting disconnect hook for Unisat"),!this.isInstalled()||!this.walletBase)throw new Error(Q);this.disconnectHookWrapper=()=>{console.log("Unisat Disconnecting Hook"),t()},this.walletBase.on("disconnect",this.disconnectHookWrapper)}removeDisconnectHook(){if(!this.isInstalled()||!this.walletBase)throw new Error(Q);this.disconnectHookWrapper&&(console.log("Removing disconnect hook for Unisat"),this.walletBase.removeListener("disconnect",this.disconnectHookWrapper),this.disconnectHookWrapper=void 0)}setChainChangedHook(t){if(console.log("Setting chain changed hook for Unisat"),!this.isInstalled()||!this.walletBase)throw new Error(Q);this.chainChangedHookWrapper=s=>{console.log("Unisat ChainChanged Hook",s),t(s.enum)},this.walletBase.on("chainChanged",this.chainChangedHookWrapper)}removeChainChangedHook(){if(!this.isInstalled()||!this.walletBase)throw new Error(Q);this.chainChangedHookWrapper&&(console.log("Removing chain changed hook for Unisat"),this.walletBase.removeListener("chainChanged",this.chainChangedHookWrapper),this.chainChangedHookWrapper=void 0)}getMLDSAPublicKey(){return Promise.resolve(null)}getHashedMLDSAKey(){return Promise.resolve(null)}signMLDSAMessage(t){return Promise.resolve(null)}verifyMLDSASignature(t,s){return Promise.resolve(!1)}}const bn="data:image/png;base64,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";L.registerWallet({name:Ce.OP_WALLET,icon:jn,controller:new vn});L.registerWallet({name:Ce.UNISAT,icon:bn,controller:new Nn});const Cn=5,kn=({theme:n,children:t})=>{const[s,a]=l.useState(!1),[r,i]=l.useState(void 0),o=l.useRef(null),[d,c]=l.useState(null),[u]=l.useState(L.getWallets),[h,m]=l.useState(null),[f,w]=l.useState(!1),[g,x]=l.useState(!1),[p,y]=l.useState(null),[j,b]=l.useState(null),[k,A]=l.useState(null),[N,C]=l.useState(null),[R,E]=l.useState(null),[I,H]=l.useState(null),[ne,q]=l.useState(null),[W,S]=l.useState(null),[G,D]=l.useState(null),O=l.useCallback(()=>{o.current&&clearTimeout(o.current),o.current=setTimeout(()=>i(void 0),5e3)},[]);l.useEffect(()=>{const v=()=>{a(!0)};if(document.readyState==="complete")v();else return window.addEventListener("load",v,!1),()=>window.removeEventListener("load",v)},[]),l.useEffect(()=>{const v=localStorage.getItem("WC_SelectedWallet");v&&m(v)},[]),l.useEffect(()=>{r&&O()},[r,O]);const X=()=>{i(void 0),x(!0)},le=()=>{x(!1),i(void 0)},Ae=l.useCallback(async()=>{console.log("DISCONNECTING FROM WALLET"),localStorage.removeItem("WC_SelectedWallet"),m(null),b(null),y(null),w(!1);try{L.removeDisconnectHook(),L.removeChainChangedHook(),L.removeAccountsChangedHook(),await L.disconnect()}catch(v){console.warn("Error disconnecting from wallet:",v)}c(null)},[]),De=l.useCallback(async v=>{w(!0);try{const T=await L.connect(v);if(T.code===200&&Array.isArray(T.data)){if(!T.data||T.data.length===0)return;y(T.data[0]);const ce=await L.getPublicKey();b(ce);const dt=await L.getNetwork();c(dt);try{L.setAccountsChangedHook(Qt),L.setChainChangedHook(Jt),L.setDisconnectHook(Ae)}catch(sn){console.warn("Error setting up wallet hooks:",sn)}le(),console.log("Connected to wallet:",v),m(v),localStorage.setItem("WC_SelectedWallet",v)}else T.data&&"message"in T.data?i(T.data.message):i("Unknown error")}catch(T){i(T.message||"Unexpected error")}finally{w(!1)}},[Ae]),lt=l.useCallback(async()=>{if(console.warn("Trying to reconnect...",h,f),!h||f)return;const v=await L.canAutoConnect(h);if(console.log("CanAutoConnect",v),!v)return;let T=0;const ce=async()=>{if(T++,L.isWalletInstalled(h)){console.log(`Attempting to reconnect to ${h} (Attempt ${T})`),await De(h);return}T<Cn&&setTimeout(ce,1e3*T)};await ce()},[h,De,s]);l.useEffect(()=>{lt()},[lt]);const Qt=l.useCallback(async v=>{console.log("Account changed, updating address");const T=v.length>0?v[0]:null;y(T);const ce=T?await L.getPublicKey():null;b(ce)},[y,b]),Jt=l.useCallback(v=>{h&&c(v)},[h,c]),$t=l.useMemo(()=>u.map(v=>({name:v.name,icon:v.icon,isInstalled:v.controller.isInstalled(),isConnected:v.controller.isConnected()})),[u,d,s]),ct=l.useMemo(()=>u.filter(v=>v.controller.isInstalled()),[u,d,s]);l.useEffect(()=>{const v=p?L.getWalletType():null;A(v);const T=p?L.getWalletInstance():null;C(T)},[p]),l.useEffect(()=>{(async()=>{const T=p?await L.getProvider():null;E(T)})()},[p,d]),l.useEffect(()=>{(async()=>{const T=j?await L.getSigner():null;H(T)})()},[d,j]),l.useEffect(()=>{(async()=>{if(p&&N)try{const T=await N.getBalance();q(T)}catch(T){console.error("Error fetching balance:",T),q(null)}else q(null)})()},[p,N]),l.useEffect(()=>{(async()=>{if(j){const T=await L.getMLDSAPublicKey();S(T);const ce=await L.getHashedMLDSAKey();D(ce)}else S(null),D(null)})()},[j]);const _t=l.useCallback(async v=>L.signMLDSAMessage(v),[]),en=l.useCallback(async(v,T)=>L.verifyMLDSASignature(v,T),[]),tn=l.useMemo(()=>`wallet-connect-${n||"light"}-theme`,[n]),nn=l.useMemo(()=>W&&j?fe.fromString(W,j):W?fe.fromString(W):null,[W,j]);return e.jsxs(St.Provider,{value:{walletAddress:p,publicKey:j,address:nn,connecting:f,connectToWallet:De,disconnect:Ae,openConnectModal:X,network:d,allWallets:$t,walletInstance:N,provider:R,signer:I,walletBalance:ne,walletType:k,mldsaPublicKey:W,hashedMLDSAKey:G,signMLDSAMessage:_t,verifyMLDSASignature:en},children:[t,g&&e.jsx("div",{className:`wallet-connect-modal-backdrop ${tn}`,children:e.jsxs("div",{className:"wallet-connect-modal",role:"dialog","aria-modal":"true","aria-labelledby":"wallet-connect-modal-title",children:[e.jsxs("div",{className:"wallet-connect-header",children:[e.jsx("span",{children:"Connect Wallet"}),e.jsx("button",{className:"close",onClick:()=>le(),children:e.jsx("span",{className:"close-icon",children:e.jsx("svg",{width:"30px",height:"30px",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{className:"close-x-path",d:"M16 8L8 16M8.00001 8L16 16",stroke:"#fff",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})})})})]}),r&&e.jsx("div",{className:"wallet-connect-error",children:e.jsx("p",{className:"error-message",children:r})}),ct.length>0?e.jsx("div",{className:"wallet-list",children:ct.map(v=>e.jsxs("button",{onClick:()=>De(v.name),disabled:f||!v.controller.isInstalled(),className:`wallet-button ${v.controller.isInstalled()?"wallet-installed":"wallet-not-installed"}`,children:[v.icon?e.jsx("div",{className:"wallet-icon",title:v.name,children:e.jsx("img",{src:v.icon,alt:v.name})}):e.jsx("div",{className:"wallet-name",children:v.name}),v.controller.isConnected()?e.jsx("div",{className:"wallet-connected",children:"(Connected)"}):e.jsx(e.Fragment,{}),v.controller.isInstalled()?e.jsx(e.Fragment,{}):e.jsx("div",{className:"wallet-not-installed",children:"(Not Installed)"})]},v.name))}):s?e.jsxs("div",{children:[e.jsx("p",{children:"No wallets available"}),e.jsx("p",{children:"Supporting the following wallets"}),e.jsx("div",{className:"wallet-list",children:u.map(v=>e.jsx("a",{href:`https://chromewebstore.google.com/search/${v.name}`,children:v.icon?e.jsx("div",{className:"wallet-icon",title:v.name,children:e.jsx("img",{src:v.icon,alt:v.name})}):e.jsx("div",{className:"wallet-name",children:v.name})}))})]}):e.jsxs("div",{className:"wallet-waiting-plugin",children:[e.jsx("p",{children:"Loading plugins..."}),e.jsx("p",{children:"Please wait"})]})]})})]})},At=l.createContext(null);let Sn=0;function Tn({children:n}){const[t,s]=l.useState([]),a=l.useCallback(i=>{s(o=>o.filter(d=>d.id!==i))},[]),r=l.useCallback((i,o,d)=>{const c=`toast-${++Sn}`,u={id:c,type:i,title:o,message:d};s(h=>[...h,u]),setTimeout(()=>{a(c)},5e3)},[a]);return e.jsx(At.Provider,{value:{toasts:t,addToast:r,removeToast:a},children:n})}function Ue(){const n=l.useContext(At);if(!n)throw new Error("useToast must be used within ToastProvider");return n}var mt="popstate";function pt(n){return typeof n=="object"&&n!=null&&"pathname"in n&&"search"in n&&"hash"in n&&"state"in n&&"key"in n}function An(n={}){function t(a,r){let i=r.state?.masked,{pathname:o,search:d,hash:c}=i||a.location;return Je("",{pathname:o,search:d,hash:c},r.state&&r.state.usr||null,r.state&&r.state.key||"default",i?{pathname:a.location.pathname,search:a.location.search,hash:a.location.hash}:void 0)}function s(a,r){return typeof r=="string"?r:Ee(r)}return Ln(t,s,null,n)}function M(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function te(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function In(){return Math.random().toString(36).substring(2,10)}function ft(n,t){return{usr:n.state,key:n.key,idx:t,masked:n.unstable_mask?{pathname:n.pathname,search:n.search,hash:n.hash}:void 0}}function Je(n,t,s=null,a,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?Se(t):t,state:s,key:t&&t.key||a||In(),unstable_mask:r}}function Ee({pathname:n="/",search:t="",hash:s=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function Se(n){let t={};if(n){let s=n.indexOf("#");s>=0&&(t.hash=n.substring(s),n=n.substring(0,s));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function Ln(n,t,s,a={}){let{window:r=document.defaultView,v5Compat:i=!1}=a,o=r.history,d="POP",c=null,u=h();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function h(){return(o.state||{idx:null}).idx}function m(){d="POP";let p=h(),y=p==null?null:p-u;u=p,c&&c({action:d,location:x.location,delta:y})}function f(p,y){d="PUSH";let j=pt(p)?p:Je(x.location,p,y);u=h()+1;let b=ft(j,u),k=x.createHref(j.unstable_mask||j);try{o.pushState(b,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(k)}i&&c&&c({action:d,location:x.location,delta:1})}function w(p,y){d="REPLACE";let j=pt(p)?p:Je(x.location,p,y);u=h();let b=ft(j,u),k=x.createHref(j.unstable_mask||j);o.replaceState(b,"",k),i&&c&&c({action:d,location:x.location,delta:0})}function g(p){return En(p)}let x={get action(){return d},get location(){return n(r,o)},listen(p){if(c)throw new Error("A history only accepts one active listener");return r.addEventListener(mt,m),c=p,()=>{r.removeEventListener(mt,m),c=null}},createHref(p){return t(r,p)},createURL:g,encodeLocation(p){let y=g(p);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:w,go(p){return o.go(p)}};return x}function En(n,t=!1){let s="http://localhost";typeof window<"u"&&(s=window.location.origin!=="null"?window.location.origin:window.location.href),M(s,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:Ee(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=s+a),new URL(a,s)}function It(n,t,s="/"){return Pn(n,t,s,!1)}function Pn(n,t,s,a){let r=typeof t=="string"?Se(t):t,i=ie(r.pathname||"/",s);if(i==null)return null;let o=Lt(n);Mn(o);let d=null;for(let c=0;d==null&&c<o.length;++c){let u=Kn(i);d=Gn(o[c],u,a)}return d}function Lt(n,t=[],s=[],a="",r=!1){let i=(o,d,c=r,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:d,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(a)&&c)return;M(h.relativePath.startsWith(a),`Absolute route path "${h.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(a.length)}let m=_([a,h.relativePath]),f=s.concat(h);o.children&&o.children.length>0&&(M(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Lt(o.children,t,f,m,c)),!(o.path==null&&!o.index)&&t.push({path:m,score:Hn(m,o.index),routesMeta:f})};return n.forEach((o,d)=>{if(o.path===""||!o.path?.includes("?"))i(o,d);else for(let c of Et(o.path))i(o,d,!0,c)}),t}function Et(n){let t=n.split("/");if(t.length===0)return[];let[s,...a]=t,r=s.endsWith("?"),i=s.replace(/\?$/,"");if(a.length===0)return r?[i,""]:[i];let o=Et(a.join("/")),d=[];return d.push(...o.map(c=>c===""?i:[i,c].join("/"))),r&&d.push(...o),d.map(c=>n.startsWith("/")&&c===""?"/":c)}function Mn(n){n.sort((t,s)=>t.score!==s.score?s.score-t.score:Un(t.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}var Rn=/^:[\w-]+$/,Dn=3,Bn=2,Wn=1,On=10,Fn=-2,gt=n=>n==="*";function Hn(n,t){let s=n.split("/"),a=s.length;return s.some(gt)&&(a+=Fn),t&&(a+=Bn),s.filter(r=>!gt(r)).reduce((r,i)=>r+(Rn.test(i)?Dn:i===""?Wn:On),a)}function Un(n,t){return n.length===t.length&&n.slice(0,-1).every((a,r)=>a===t[r])?n[n.length-1]-t[t.length-1]:0}function Gn(n,t,s=!1){let{routesMeta:a}=n,r={},i="/",o=[];for(let d=0;d<a.length;++d){let c=a[d],u=d===a.length-1,h=i==="/"?t:t.slice(i.length)||"/",m=He({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),f=c.route;if(!m&&u&&s&&!a[a.length-1].route.index&&(m=He({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(r,m.params),o.push({params:r,pathname:_([i,m.pathname]),pathnameBase:Xn(_([i,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(i=_([i,m.pathnameBase]))}return o}function He(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,a]=Yn(n.path,n.caseSensitive,n.end),r=t.match(s);if(!r)return null;let i=r[0],o=i.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:a.reduce((u,{paramName:h,isOptional:m},f)=>{if(h==="*"){let g=d[f]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const w=d[f];return m&&!w?u[h]=void 0:u[h]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:n}}function Yn(n,t=!1,s=!0){te(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,d,c,u,h)=>{if(a.push({paramName:d,isOptional:c!=null}),c){let m=h.charAt(u+o.length);return m&&m!=="/"?"/([^\\/]*)":"(?:/([^\\/]*))?"}return"/([^\\/]+)"}).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),a]}function Kn(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return te(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function ie(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,a=n.charAt(s);return a&&a!=="/"?null:n.slice(s)||"/"}var Vn=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function zn(n,t="/"){let{pathname:s,search:a="",hash:r=""}=typeof n=="string"?Se(n):n,i;return s?(s=s.replace(/\/\/+/g,"/"),s.startsWith("/")?i=xt(s.substring(1),"/"):i=xt(s,t)):i=t,{pathname:i,search:Zn(a),hash:Qn(r)}}function xt(n,t){let s=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?s.length>1&&s.pop():r!=="."&&s.push(r)}),s.length>1?s.join("/"):"/"}function Ve(n,t,s,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${s}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function qn(n){return n.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Pt(n){let t=qn(n);return t.map((s,a)=>a===t.length-1?s.pathname:s.pathnameBase)}function et(n,t,s,a=!1){let r;typeof n=="string"?r=Se(n):(r={...n},M(!r.pathname||!r.pathname.includes("?"),Ve("?","pathname","search",r)),M(!r.pathname||!r.pathname.includes("#"),Ve("#","pathname","hash",r)),M(!r.search||!r.search.includes("#"),Ve("#","search","hash",r)));let i=n===""||r.pathname==="",o=i?"/":r.pathname,d;if(o==null)d=s;else{let m=t.length-1;if(!a&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;r.pathname=f.join("/")}d=m>=0?t[m]:"/"}let c=zn(r,d),u=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&s.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}var _=n=>n.join("/").replace(/\/\/+/g,"/"),Xn=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Zn=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Qn=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Jn=class{constructor(n,t,s,a=!1){this.status=n,this.statusText=t||"",this.internal=a,s instanceof Error?(this.data=s.toString(),this.error=s):this.data=s}};function $n(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function _n(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Mt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Rt(n,t){let s=n;if(typeof s!="string"||!Vn.test(s))return{absoluteURL:void 0,isExternal:!1,to:s};let a=s,r=!1;if(Mt)try{let i=new URL(window.location.href),o=s.startsWith("//")?new URL(i.protocol+s):new URL(s),d=ie(o.pathname,t);o.origin===i.origin&&d!=null?s=d+o.search+o.hash:r=!0}catch{te(!1,`<Link to="${s}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:r,to:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dt=["POST","PUT","PATCH","DELETE"];new Set(Dt);var es=["GET",...Dt];new Set(es);var Te=l.createContext(null);Te.displayName="DataRouter";var Ge=l.createContext(null);Ge.displayName="DataRouterState";var ts=l.createContext(!1),Bt=l.createContext({isTransitioning:!1});Bt.displayName="ViewTransition";var ns=l.createContext(new Map);ns.displayName="Fetchers";var ss=l.createContext(null);ss.displayName="Await";var V=l.createContext(null);V.displayName="Navigation";var Pe=l.createContext(null);Pe.displayName="Location";var z=l.createContext({outlet:null,matches:[],isDataRoute:!1});z.displayName="Route";var tt=l.createContext(null);tt.displayName="RouteError";var Wt="REACT_ROUTER_ERROR",as="REDIRECT",rs="ROUTE_ERROR_RESPONSE";function is(n){if(n.startsWith(`${Wt}:${as}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function os(n){if(n.startsWith(`${Wt}:${rs}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new Jn(t.status,t.statusText,t.data)}catch{}}function ls(n,{relative:t}={}){M(Me(),"useHref() may be used only in the context of a <Router> component.");let{basename:s,navigator:a}=l.useContext(V),{hash:r,pathname:i,search:o}=Re(n,{relative:t}),d=i;return s!=="/"&&(d=i==="/"?s:_([s,i])),a.createHref({pathname:d,search:o,hash:r})}function Me(){return l.useContext(Pe)!=null}function me(){return M(Me(),"useLocation() may be used only in the context of a <Router> component."),l.useContext(Pe).location}var Ot="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ft(n){l.useContext(V).static||l.useLayoutEffect(n)}function pe(){let{isDataRoute:n}=l.useContext(z);return n?bs():cs()}function cs(){M(Me(),"useNavigate() may be used only in the context of a <Router> component.");let n=l.useContext(Te),{basename:t,navigator:s}=l.useContext(V),{matches:a}=l.useContext(z),{pathname:r}=me(),i=JSON.stringify(Pt(a)),o=l.useRef(!1);return Ft(()=>{o.current=!0}),l.useCallback((c,u={})=>{if(te(o.current,Ot),!o.current)return;if(typeof c=="number"){s.go(c);return}let h=et(c,JSON.parse(i),r,u.relative==="path");n==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:_([t,h.pathname])),(u.replace?s.replace:s.push)(h,u.state,u)},[t,s,i,r,n])}var ds=l.createContext(null);function us(n){let t=l.useContext(z).outlet;return l.useMemo(()=>t&&l.createElement(ds.Provider,{value:n},t),[t,n])}function nt(){let{matches:n}=l.useContext(z),t=n[n.length-1];return t?t.params:{}}function Re(n,{relative:t}={}){let{matches:s}=l.useContext(z),{pathname:a}=me(),r=JSON.stringify(Pt(s));return l.useMemo(()=>et(n,JSON.parse(r),a,t==="path"),[n,r,a,t])}function hs(n,t){return Ht(n,t)}function Ht(n,t,s){M(Me(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=l.useContext(V),{matches:r}=l.useContext(z),i=r[r.length-1],o=i?i.params:{},d=i?i.pathname:"/",c=i?i.pathnameBase:"/",u=i&&i.route;{let p=u&&u.path||"";Gt(d,!u||p.endsWith("*")||p.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${p}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${p}"> to <Route path="${p==="/"?"*":`${p}/*`}">.`)}let h=me(),m;if(t){let p=typeof t=="string"?Se(t):t;M(c==="/"||p.pathname?.startsWith(c),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${p.pathname}" was given in the \`location\` prop.`),m=p}else m=h;let f=m.pathname||"/",w=f;if(c!=="/"){let p=c.replace(/^\//,"").split("/");w="/"+f.replace(/^\//,"").split("/").slice(p.length).join("/")}let g=It(n,{pathname:w});te(u||g!=null,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),te(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=xs(g&&g.map(p=>Object.assign({},p,{params:Object.assign({},o,p.params),pathname:_([c,a.encodeLocation?a.encodeLocation(p.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?c:_([c,a.encodeLocation?a.encodeLocation(p.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:p.pathnameBase])})),r,s);return t&&x?l.createElement(Pe.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",unstable_mask:void 0,...m},navigationType:"POP"}},x):x}function ms(){let n=Ns(),t=$n(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:a},i={padding:"2px 4px",backgroundColor:a},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=l.createElement(l.Fragment,null,l.createElement("p",null," Hey developer "),l.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",l.createElement("code",{style:i},"ErrorBoundary")," or"," ",l.createElement("code",{style:i},"errorElement")," prop on your route.")),l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},t),s?l.createElement("pre",{style:r},s):null,o)}var ps=l.createElement(ms,null),Ut=class extends l.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const s=os(n.digest);s&&(n=s)}let t=n!==void 0?l.createElement(z.Provider,{value:this.props.routeContext},l.createElement(tt.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?l.createElement(fs,{error:n},t):t}};Ut.contextType=ts;var ze=new WeakMap;function fs({children:n,error:t}){let{basename:s}=l.useContext(V);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=is(t.digest);if(a){let r=ze.get(t);if(r)throw r;let i=Rt(a.location,s);if(Mt&&!ze.get(t))if(i.isExternal||a.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:a.replace}));throw ze.set(t,o),o}return l.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return n}function gs({routeContext:n,match:t,children:s}){let a=l.useContext(Te);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),l.createElement(z.Provider,{value:n},s)}function xs(n,t=[],s){let a=s?.state;if(n==null){if(!a)return null;if(a.errors)n=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)n=a.matches;else return null}let r=n,i=a?.errors;if(i!=null){let h=r.findIndex(m=>m.route.id&&i?.[m.route.id]!==void 0);M(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),r=r.slice(0,Math.min(r.length,h+1))}let o=!1,d=-1;if(s&&a){o=a.renderFallback;for(let h=0;h<r.length;h++){let m=r[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:f,errors:w}=a,g=m.route.loader&&!f.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||g){s.isStatic&&(o=!0),d>=0?r=r.slice(0,d+1):r=[r[0]];break}}}}let c=s?.onError,u=a&&c?(h,m)=>{c(h,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:_n(a.matches),errorInfo:m})}:void 0;return r.reduceRight((h,m,f)=>{let w,g=!1,x=null,p=null;a&&(w=i&&m.route.id?i[m.route.id]:void 0,x=m.route.errorElement||ps,o&&(d<0&&f===0?(Gt("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,p=null):d===f&&(g=!0,p=m.route.hydrateFallbackElement||null)));let y=t.concat(r.slice(0,f+1)),j=()=>{let b;return w?b=x:g?b=p:m.route.Component?b=l.createElement(m.route.Component,null):m.route.element?b=m.route.element:b=h,l.createElement(gs,{match:m,routeContext:{outlet:h,matches:y,isDataRoute:a!=null},children:b})};return a&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?l.createElement(Ut,{location:a.location,revalidation:a.revalidation,component:x,error:w,children:j(),routeContext:{outlet:null,matches:y,isDataRoute:!0},onError:u}):j()},null)}function st(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ws(n){let t=l.useContext(Te);return M(t,st(n)),t}function ys(n){let t=l.useContext(Ge);return M(t,st(n)),t}function vs(n){let t=l.useContext(z);return M(t,st(n)),t}function at(n){let t=vs(n),s=t.matches[t.matches.length-1];return M(s.route.id,`${n} can only be used on routes that contain a unique "id"`),s.route.id}function js(){return at("useRouteId")}function Ns(){let n=l.useContext(tt),t=ys("useRouteError"),s=at("useRouteError");return n!==void 0?n:t.errors?.[s]}function bs(){let{router:n}=ws("useNavigate"),t=at("useNavigate"),s=l.useRef(!1);return Ft(()=>{s.current=!0}),l.useCallback(async(r,i={})=>{te(s.current,Ot),s.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:t,...i}))},[n,t])}var wt={};function Gt(n,t,s){!t&&!wt[n]&&(wt[n]=!0,te(!1,s))}l.memo(Cs);function Cs({routes:n,future:t,state:s,isStatic:a,onError:r}){return Ht(n,void 0,{state:s,isStatic:a,onError:r})}function ks(n){return us(n.context)}function Y(n){M(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ss({basename:n="/",children:t=null,location:s,navigationType:a="POP",navigator:r,static:i=!1,unstable_useTransitions:o}){M(!Me(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),c=l.useMemo(()=>({basename:d,navigator:r,static:i,unstable_useTransitions:o,future:{}}),[d,r,i,o]);typeof s=="string"&&(s=Se(s));let{pathname:u="/",search:h="",hash:m="",state:f=null,key:w="default",unstable_mask:g}=s,x=l.useMemo(()=>{let p=ie(u,d);return p==null?null:{location:{pathname:p,search:h,hash:m,state:f,key:w,unstable_mask:g},navigationType:a}},[d,u,h,m,f,w,a,g]);return te(x!=null,`<Router basename="${d}"> is not able to match the URL "${u}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:l.createElement(V.Provider,{value:c},l.createElement(Pe.Provider,{children:t,value:x}))}function Ts({children:n,location:t}){return hs($e(n),t)}function $e(n,t=[]){let s=[];return l.Children.forEach(n,(a,r)=>{if(!l.isValidElement(a))return;let i=[...t,r];if(a.type===l.Fragment){s.push.apply(s,$e(a.props.children,i));return}M(a.type===Y,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),M(!a.props.index||!a.props.children,"An index route cannot have child routes.");let o={id:a.props.id||i.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(o.children=$e(a.props.children,i)),s.push(o)}),s}var We="get",Oe="application/x-www-form-urlencoded";function Ye(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function As(n){return Ye(n)&&n.tagName.toLowerCase()==="button"}function Is(n){return Ye(n)&&n.tagName.toLowerCase()==="form"}function Ls(n){return Ye(n)&&n.tagName.toLowerCase()==="input"}function Es(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ps(n,t){return n.button===0&&(!t||t==="_self")&&!Es(n)}var Be=null;function Ms(){if(Be===null)try{new FormData(document.createElement("form"),0),Be=!1}catch{Be=!0}return Be}var Rs=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qe(n){return n!=null&&!Rs.has(n)?(te(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Oe}"`),null):n}function Ds(n,t){let s,a,r,i,o;if(Is(n)){let d=n.getAttribute("action");a=d?ie(d,t):null,s=n.getAttribute("method")||We,r=qe(n.getAttribute("enctype"))||Oe,i=new FormData(n)}else if(As(n)||Ls(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=n.getAttribute("formaction")||d.getAttribute("action");if(a=c?ie(c,t):null,s=n.getAttribute("formmethod")||d.getAttribute("method")||We,r=qe(n.getAttribute("formenctype"))||qe(d.getAttribute("enctype"))||Oe,i=new FormData(d,n),!Ms()){let{name:u,type:h,value:m}=n;if(h==="image"){let f=u?`${u}.`:"";i.append(`${f}x`,"0"),i.append(`${f}y`,"0")}else u&&i.append(u,m)}}else{if(Ye(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');s=We,a=null,r=Oe,o=n}return i&&r==="text/plain"&&(o=i,i=void 0),{action:a,method:s.toLowerCase(),encType:r,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Bs(n,t,s,a){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return s?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${a}`:r.pathname=`${r.pathname}.${a}`:r.pathname==="/"?r.pathname=`_root.${a}`:t&&ie(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function Ws(n,t){if(n.id in t)return t[n.id];try{let s=await import(n.module);return t[n.id]=s,s}catch(s){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(s),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Os(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Fs(n,t,s){let a=await Promise.all(n.map(async r=>{let i=t.routes[r.route.id];if(i){let o=await Ws(i,s);return o.links?o.links():[]}return[]}));return Ys(a.flat(1).filter(Os).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function yt(n,t,s,a,r,i){let o=(c,u)=>s[u]?c.route.id!==s[u].route.id:!0,d=(c,u)=>s[u].pathname!==c.pathname||s[u].route.path?.endsWith("*")&&s[u].params["*"]!==c.params["*"];return i==="assets"?t.filter((c,u)=>o(c,u)||d(c,u)):i==="data"?t.filter((c,u)=>{let h=a.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,u)||d(c,u))return!0;if(c.route.shouldRevalidate){let m=c.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:s[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof m=="boolean")return m}return!0}):[]}function Hs(n,t,{includeHydrateFallback:s}={}){return Us(n.map(a=>{let r=t.routes[a.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),s&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Us(n){return[...new Set(n)]}function Gs(n){let t={},s=Object.keys(n).sort();for(let a of s)t[a]=n[a];return t}function Ys(n,t){let s=new Set;return new Set(t),n.reduce((a,r)=>{let i=JSON.stringify(Gs(r));return s.has(i)||(s.add(i),a.push({key:i,link:r})),a},[])}function Yt(){let n=l.useContext(Te);return rt(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Ks(){let n=l.useContext(Ge);return rt(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var it=l.createContext(void 0);it.displayName="FrameworkContext";function Kt(){let n=l.useContext(it);return rt(n,"You must render this element inside a <HydratedRouter> element"),n}function Vs(n,t){let s=l.useContext(it),[a,r]=l.useState(!1),[i,o]=l.useState(!1),{onFocus:d,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:m}=t,f=l.useRef(null);l.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let x=y=>{y.forEach(j=>{o(j.isIntersecting)})},p=new IntersectionObserver(x,{threshold:.5});return f.current&&p.observe(f.current),()=>{p.disconnect()}}},[n]),l.useEffect(()=>{if(a){let x=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(x)}}},[a]);let w=()=>{r(!0)},g=()=>{r(!1),o(!1)};return s?n!=="intent"?[i,f,{}]:[i,f,{onFocus:Ie(d,w),onBlur:Ie(c,g),onMouseEnter:Ie(u,w),onMouseLeave:Ie(h,g),onTouchStart:Ie(m,w)}]:[!1,f,{}]}function Ie(n,t){return s=>{n&&n(s),s.defaultPrevented||t(s)}}function zs({page:n,...t}){let{router:s}=Yt(),a=l.useMemo(()=>It(s.routes,n,s.basename),[s.routes,n,s.basename]);return a?l.createElement(Xs,{page:n,matches:a,...t}):null}function qs(n){let{manifest:t,routeModules:s}=Kt(),[a,r]=l.useState([]);return l.useEffect(()=>{let i=!1;return Fs(n,t,s).then(o=>{i||r(o)}),()=>{i=!0}},[n,t,s]),a}function Xs({page:n,matches:t,...s}){let a=me(),{future:r,manifest:i,routeModules:o}=Kt(),{basename:d}=Yt(),{loaderData:c,matches:u}=Ks(),h=l.useMemo(()=>yt(n,t,u,i,a,"data"),[n,t,u,i,a]),m=l.useMemo(()=>yt(n,t,u,i,a,"assets"),[n,t,u,i,a]),f=l.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let x=new Set,p=!1;if(t.forEach(j=>{let b=i.routes[j.route.id];!b||!b.hasLoader||(!h.some(k=>k.route.id===j.route.id)&&j.route.id in c&&o[j.route.id]?.shouldRevalidate||b.hasClientLoader?p=!0:x.add(j.route.id))}),x.size===0)return[];let y=Bs(n,d,r.unstable_trailingSlashAwareDataRequests,"data");return p&&x.size>0&&y.searchParams.set("_routes",t.filter(j=>x.has(j.route.id)).map(j=>j.route.id).join(",")),[y.pathname+y.search]},[d,r.unstable_trailingSlashAwareDataRequests,c,a,i,h,t,n,o]),w=l.useMemo(()=>Hs(m,i),[m,i]),g=qs(m);return l.createElement(l.Fragment,null,f.map(x=>l.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...s})),w.map(x=>l.createElement("link",{key:x,rel:"modulepreload",href:x,...s})),g.map(({key:x,link:p})=>l.createElement("link",{key:x,nonce:s.nonce,...p,crossOrigin:p.crossOrigin??s.crossOrigin})))}function Zs(...n){return t=>{n.forEach(s=>{typeof s=="function"?s(t):s!=null&&(s.current=t)})}}var Qs=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qs&&(window.__reactRouterVersion="7.13.1")}catch{}function Js({basename:n,children:t,unstable_useTransitions:s,window:a}){let r=l.useRef();r.current==null&&(r.current=An({window:a,v5Compat:!0}));let i=r.current,[o,d]=l.useState({action:i.action,location:i.location}),c=l.useCallback(u=>{s===!1?d(u):l.startTransition(()=>d(u))},[s]);return l.useLayoutEffect(()=>i.listen(c),[i,c]),l.createElement(Ss,{basename:n,children:t,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:s})}var Vt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=l.forwardRef(function({onClick:t,discover:s="render",prefetch:a="none",relative:r,reloadDocument:i,replace:o,unstable_mask:d,state:c,target:u,to:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:w,...g},x){let{basename:p,navigator:y,unstable_useTransitions:j}=l.useContext(V),b=typeof h=="string"&&Vt.test(h),k=Rt(h,p);h=k.to;let A=ls(h,{relative:r}),N=me(),C=null;if(d){let S=et(d,[],N.unstable_mask?N.unstable_mask.pathname:"/",!0);p!=="/"&&(S.pathname=S.pathname==="/"?p:_([p,S.pathname])),C=y.createHref(S)}let[R,E,I]=Vs(a,g),H=ta(h,{replace:o,unstable_mask:d,state:c,target:u,preventScrollReset:m,relative:r,viewTransition:f,unstable_defaultShouldRevalidate:w,unstable_useTransitions:j});function ne(S){t&&t(S),S.defaultPrevented||H(S)}let q=!(k.isExternal||i),W=l.createElement("a",{...g,...I,href:(q?C:void 0)||k.absoluteURL||A,onClick:q?ne:t,ref:Zs(x,E),target:u,"data-discover":!b&&s==="render"?"true":void 0});return R&&!b?l.createElement(l.Fragment,null,W,l.createElement(zs,{page:A})):W});K.displayName="Link";var $s=l.forwardRef(function({"aria-current":t="page",caseSensitive:s=!1,className:a="",end:r=!1,style:i,to:o,viewTransition:d,children:c,...u},h){let m=Re(o,{relative:u.relative}),f=me(),w=l.useContext(Ge),{navigator:g,basename:x}=l.useContext(V),p=w!=null&&ia(m)&&d===!0,y=g.encodeLocation?g.encodeLocation(m).pathname:m.pathname,j=f.pathname,b=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(j=j.toLowerCase(),b=b?b.toLowerCase():null,y=y.toLowerCase()),b&&x&&(b=ie(b,x)||b);const k=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let A=j===y||!r&&j.startsWith(y)&&j.charAt(k)==="/",N=b!=null&&(b===y||!r&&b.startsWith(y)&&b.charAt(y.length)==="/"),C={isActive:A,isPending:N,isTransitioning:p},R=A?t:void 0,E;typeof a=="function"?E=a(C):E=[a,A?"active":null,N?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(C):i;return l.createElement(K,{...u,"aria-current":R,className:E,ref:h,style:I,to:o,viewTransition:d},typeof c=="function"?c(C):c)});$s.displayName="NavLink";var _s=l.forwardRef(({discover:n="render",fetcherKey:t,navigate:s,reloadDocument:a,replace:r,state:i,method:o=We,action:d,onSubmit:c,relative:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:f,...w},g)=>{let{unstable_useTransitions:x}=l.useContext(V),p=aa(),y=ra(d,{relative:u}),j=o.toLowerCase()==="get"?"get":"post",b=typeof d=="string"&&Vt.test(d),k=A=>{if(c&&c(A),A.defaultPrevented)return;A.preventDefault();let N=A.nativeEvent.submitter,C=N?.getAttribute("formmethod")||o,R=()=>p(N||A.currentTarget,{fetcherKey:t,method:C,navigate:s,replace:r,state:i,relative:u,preventScrollReset:h,viewTransition:m,unstable_defaultShouldRevalidate:f});x&&s!==!1?l.startTransition(()=>R()):R()};return l.createElement("form",{ref:g,method:j,action:y,onSubmit:a?c:k,...w,"data-discover":!b&&n==="render"?"true":void 0})});_s.displayName="Form";function ea(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zt(n){let t=l.useContext(Te);return M(t,ea(n)),t}function ta(n,{target:t,replace:s,unstable_mask:a,state:r,preventScrollReset:i,relative:o,viewTransition:d,unstable_defaultShouldRevalidate:c,unstable_useTransitions:u}={}){let h=pe(),m=me(),f=Re(n,{relative:o});return l.useCallback(w=>{if(Ps(w,t)){w.preventDefault();let g=s!==void 0?s:Ee(m)===Ee(f),x=()=>h(n,{replace:g,unstable_mask:a,state:r,preventScrollReset:i,relative:o,viewTransition:d,unstable_defaultShouldRevalidate:c});u?l.startTransition(()=>x()):x()}},[m,h,f,s,a,r,t,n,i,o,d,c,u])}var na=0,sa=()=>`__${String(++na)}__`;function aa(){let{router:n}=zt("useSubmit"),{basename:t}=l.useContext(V),s=js(),a=n.fetch,r=n.navigate;return l.useCallback(async(i,o={})=>{let{action:d,method:c,encType:u,formData:h,body:m}=Ds(i,t);if(o.navigate===!1){let f=o.fetcherKey||sa();await a(f,s,o.action||d,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||c,formEncType:o.encType||u,flushSync:o.flushSync})}else await r(o.action||d,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||c,formEncType:o.encType||u,replace:o.replace,state:o.state,fromRouteId:s,flushSync:o.flushSync,viewTransition:o.viewTransition})},[a,r,t,s])}function ra(n,{relative:t}={}){let{basename:s}=l.useContext(V),a=l.useContext(z);M(a,"useFormAction must be used inside a RouteContext");let[r]=a.matches.slice(-1),i={...Re(n||".",{relative:t})},o=me();if(n==null){i.search=o.search;let d=new URLSearchParams(i.search),c=d.getAll("index");if(c.some(h=>h==="")){d.delete("index"),c.filter(m=>m).forEach(m=>d.append("index",m));let h=d.toString();i.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),s!=="/"&&(i.pathname=i.pathname==="/"?s:_([s,i.pathname])),Ee(i)}function ia(n,{relative:t}={}){let s=l.useContext(Bt);M(s!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=zt("useViewTransitionState"),r=Re(n,{relative:t});if(!s.isTransitioning)return!1;let i=ie(s.currentLocation.pathname,a)||s.currentLocation.pathname,o=ie(s.nextLocation.pathname,a)||s.nextLocation.pathname;return He(r.pathname,o)!=null||He(r.pathname,i)!=null}class P{static formatAddress(t,s=6){return t.length<=s*2+3?t:`${t.slice(0,s)}...${t.slice(-s)}`}static satsToBTC(t){const s=t/100000000n,r=(t%100000000n).toString().padStart(8,"0").replace(/0+$/,"");return r.length===0?`${s}`:`${s}.${r}`}static btcToSats(t){const[s="0",a=""]=t.split("."),r=a.padEnd(8,"0").slice(0,8);return BigInt(s)*100000000n+BigInt(r)}static formatTokenId(t){return`#${t.toString().padStart(3,"0")}`}}function oa(){const{walletAddress:n,connecting:t,walletBalance:s,network:a,connectToWallet:r,disconnect:i}=ke();function o(){r(Ce.OP_WALLET)}if(t)return e.jsx("button",{className:"btn btn-primary btn-sm",disabled:!0,children:"Connecting..."});if(n){const d=s?P.satsToBTC(BigInt(s.total)):"0",c=a?.network??"unknown";return e.jsxs("div",{className:"wallet-pill",children:[c==="testnet"&&e.jsx("span",{className:"wallet-pill-net",children:"Testnet"}),e.jsxs("span",{className:"wallet-pill-bal",children:[d," BTC"]}),e.jsx("span",{className:"wallet-pill-sep"}),e.jsx("span",{className:"wallet-pill-addr",children:P.formatAddress(n,5)}),e.jsx("button",{className:"wallet-pill-disconnect",onClick:i,title:"Disconnect",children:e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",y1:"12",x2:"9",y2:"12"})]})})]})}return e.jsx("button",{className:"btn btn-primary btn-sm",onClick:o,children:"Connect Wallet"})}function la({placeholder:n="Search...",defaultValue:t="",onSearch:s}){const[a,r]=l.useState(t);function i(d){r(d.target.value)}function o(d){d.key==="Enter"&&s(a.trim())}return e.jsxs("div",{className:"search-bar",children:[e.jsxs("svg",{className:"search-icon",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"11",cy:"11",r:"8"}),e.jsx("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),e.jsx("input",{type:"text",className:"search-input",value:a,onChange:i,onKeyDown:o,placeholder:n})]})}function ca(){const n=pe();function t(s){n(`/explore?q=${encodeURIComponent(s)}`)}return e.jsx("nav",{className:"navbar",children:e.jsxs("div",{className:"navbar-inner",children:[e.jsxs(K,{to:"/",className:"navbar-logo",children:[e.jsx("span",{className:"logo-gremlin",children:"Gremlin"}),e.jsx("span",{className:"logo-x",children:"X"})]}),e.jsx("div",{className:"navbar-search",children:e.jsx(la,{onSearch:t,placeholder:"Search collections or addresses..."})}),e.jsxs("div",{className:"navbar-right",children:[e.jsxs(K,{to:"/publish",className:"navbar-publish-btn",title:"Publish Collection",children:[e.jsxs("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),e.jsx("span",{className:"navbar-publish-text",children:"Publish"})]}),e.jsx(K,{to:"/profile",className:"navbar-profile-btn",title:"Profile",children:e.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),e.jsx("circle",{cx:"12",cy:"7",r:"4"})]})}),e.jsx(oa,{})]})]})})}function da(){return e.jsx("footer",{className:"footer",children:e.jsxs("div",{className:"footer-inner",children:[e.jsxs("span",{className:"footer-brand",children:[e.jsx("span",{className:"logo-gremlin",children:"Gremlin"}),e.jsx("span",{className:"logo-x",children:"X"})]}),e.jsx("span",{className:"footer-tagline",children:"Trade NFTs on Bitcoin. No bridges. No bullshit."}),e.jsxs("div",{className:"footer-links",children:[e.jsx(K,{to:"/terms",className:"footer-legal-link",children:"Terms"}),e.jsx(K,{to:"/privacy",className:"footer-legal-link",children:"Privacy"})]}),e.jsxs("span",{className:"footer-copy",children:[" ",new Date().getFullYear()," GremlinX"]})]})})}function ua(){const{toasts:n,removeToast:t}=Ue();return e.jsx("div",{className:"toast-container",children:n.map(s=>e.jsxs("div",{className:`toast toast-${s.type}`,children:[e.jsxs("div",{className:"toast-content",children:[e.jsx("strong",{className:"toast-title",children:s.title}),e.jsx("p",{className:"toast-message",children:s.message})]}),e.jsx("button",{className:"toast-dismiss",onClick:()=>t(s.id),children:""})]},s.id))})}const vt="gremlinx_tos_",ha=`Welcome to GremlinX!

By signing this message, you agree to the GremlinX Terms of Service and Privacy Policy.

This signature does not trigger a blockchain transaction or cost any gas.

Terms: /terms
Privacy: /privacy`;function ma(n){const[t,s]=l.useState(!1),[a,r]=l.useState(!1);l.useEffect(()=>{if(!n){s(!1),r(!1);return}const d=vt+n.toLowerCase();localStorage.getItem(d)==="true"?s(!0):r(!0)},[n]);const i=l.useCallback(()=>{if(!n)return;const d=vt+n.toLowerCase();localStorage.setItem(d,"true"),s(!0),r(!1)},[n]),o=l.useCallback(()=>{s(!1),r(!1)},[]);return{hasAccepted:t,isPending:a,accept:i,reject:o}}function pa(){const{walletAddress:n,disconnect:t}=ke(),{hasAccepted:s,isPending:a,accept:r,reject:i}=ma(n??null),o=!!n&&a&&!s;function d(){i(),t()}return e.jsxs("div",{className:"app-layout",children:[e.jsx(ca,{}),e.jsx("main",{className:"main-content",children:e.jsx(ks,{})}),e.jsx(da,{}),e.jsx(ua,{}),o&&e.jsx("div",{className:"signature-overlay",children:e.jsxs("div",{className:"signature-modal",children:[e.jsx("h2",{children:"Welcome to GremlinX"}),e.jsx("pre",{className:"signature-message",children:ha}),e.jsx("p",{className:"signature-note",children:"This does not trigger a transaction or cost any gas."}),e.jsxs("div",{className:"signature-actions",children:[e.jsx("button",{className:"btn btn-primary btn-md",onClick:r,children:"Sign & Accept"}),e.jsx("button",{className:"btn btn-ghost btn-md",onClick:d,children:"Cancel"})]})]})})]})}const ot="gremlinx_published_collections";function he(){try{const n=localStorage.getItem(ot);return n?JSON.parse(n):[]}catch{return[]}}function fa(n){const s=he().filter(a=>a.address.toLowerCase()!==n.address.toLowerCase());s.push(n),localStorage.setItem(ot,JSON.stringify(s))}function ga(n){const s=he().filter(a=>a.address.toLowerCase()!==n.toLowerCase());localStorage.setItem(ot,JSON.stringify(s))}const Xe="opt1sqzhzs9xcj9ajd23lj548phhaema3cx95esxyq73m",xa=$.opnetTestnet,wa="https://testnet.opnet.org";class we{static instance;provider=null;currentNetwork=xa;constructor(){}static getInstance(){return we.instance||(we.instance=new we),we.instance}getProvider(){return this.provider||(this.provider=new ue({url:wa,network:this.currentNetwork})),this.provider}getNetwork(){return this.currentNetwork}switchNetwork(t,s){this.currentNetwork=t,this.provider=new ue({url:s,network:t})}}const J=we.getInstance();class ye{static instance;nftContracts=new Map;constructor(){}static getInstance(){return ye.instance||(ye.instance=new ye),ye.instance}getNFTContract(t,s){const a=t.toLowerCase(),r=this.nftContracts.get(a);if(r)return r;const i=J.getProvider(),o=J.getNetwork(),d=Qe(t,dn,i,o,s);return this.nftContracts.set(a,d),d}clearCache(){this.nftContracts.clear()}}const Le=ye.getInstance(),ya="https://ipfs.io/ipfs/";function jt(n){return n.startsWith("ipfs://")?n.replace("ipfs://",ya):n}class ve{static instance;metadataCache=new Map;collectionCache=new Map;constructor(){}static getInstance(){return ve.instance||(ve.instance=new ve),ve.instance}async getCollectionInfo(t){const s=this.collectionCache.get(t.toLowerCase());if(s)return s;const i=(await Le.getNFTContract(t).metadata()).properties,o={address:t,name:String(i.name??"Unknown"),symbol:String(i.symbol??"???"),totalSupply:BigInt(i.totalSupply??0n),icon:i.icon?String(i.icon):void 0,banner:i.banner?String(i.banner):void 0,description:i.description?String(i.description):void 0};return this.collectionCache.set(t.toLowerCase(),o),o}async getCollectionNFTs(t,s=100){const a=Le.getNFTContract(t),r=await this.getCollectionInfo(t),i=Number(r.totalSupply),o=Math.min(i,s),d=[];for(let c=1;c<=o;c++){const u=BigInt(c);try{const h=await this.getNFTItem(a,t,u);d.push(h)}catch{console.warn(`Failed to load token ${c} from ${t}`)}}return d}async getNFTItem(t,s,a){const[r,i]=await Promise.all([t.ownerOf(a),t.tokenURI(a)]),o=String(r.properties.owner??""),d=String(i.properties.uri??""),c=await this.fetchMetadata(s,a,d);return{tokenId:a,owner:o,collectionAddress:s,tokenURI:d,metadata:c}}async getNFTByTokenId(t,s){const a=Le.getNFTContract(t);return this.getNFTItem(a,t,s)}async getOwnedTokens(t,s){const a=Le.getNFTContract(t),i=await J.getProvider().getPublicKeyInfo(s,!1),d=(await a.balanceOf(i)).properties.balance,c=[];for(let u=0n;u<d;u++){const h=await a.tokenOfOwnerByIndex(i,u);c.push(h.properties.tokenId)}return c}async fetchMetadata(t,s,a){const r=`${t.toLowerCase()}:${s}`,i=this.metadataCache.get(r);if(i)return i;if(!a)return this.defaultMetadata(s);try{const o=jt(a),d=await fetch(o);if(!d.ok)return this.defaultMetadata(s);const c=await d.json();if(!c||typeof c!="object")return this.defaultMetadata(s);const u=c,h={name:String(u.name??`#${s}`),description:String(u.description??""),image:u.image?jt(String(u.image)):"",attributes:Array.isArray(u.attributes)?u.attributes.map(m=>({trait_type:String(m.trait_type??""),value:String(m.value??"")})):[]};return this.metadataCache.set(r,h),h}catch{return this.defaultMetadata(s)}}defaultMetadata(t){return{name:`#${t}`,description:"",image:"",attributes:[]}}clearCache(){this.metadataCache.clear(),this.collectionCache.clear()}}const oe=ve.getInstance();class je{static instance;p2trToMldsa=new Map;mldsaToP2tr=new Map;tweakedPubkeyCache=new Map;constructor(){}static getInstance(){return je.instance||(je.instance=new je),je.instance}async resolveToMldsa(t){const s=t.toLowerCase(),a=this.p2trToMldsa.get(s);if(a)return a;try{const i=await J.getProvider().getPublicKeysInfoRaw(t),o=i[t]??i[s];if(!o?.mldsaHashedPublicKey)return null;const d=o.mldsaHashedPublicKey.toLowerCase();return this.p2trToMldsa.set(s,d),o.p2tr&&this.mldsaToP2tr.set(d,o.p2tr.toLowerCase()),d}catch{return null}}getP2trFromMldsa(t){const s=t.replace(/^0x/i,"").toLowerCase();return this.mldsaToP2tr.get(s)??null}async resolveToTweakedPubkey(t){if(t.startsWith("0x"))return t;const s=t.toLowerCase(),a=this.tweakedPubkeyCache.get(s);if(a)return a;try{const i=await J.getProvider().getPublicKeysInfoRaw(t),o=i[t]??i[s];if(!o?.tweakedPubkey)return null;const d=`0x${o.tweakedPubkey}`;return this.tweakedPubkeyCache.set(s,d),d}catch{return null}}async addressesMatch(t,s){if(!t||!s)return!1;const a=t.toLowerCase(),r=s.toLowerCase();if(a===r)return!0;const i=a.replace(/^0x/,""),o=r.replace(/^0x/,"");if(i===o)return!0;const d=a.startsWith("opt1"),c=r.startsWith("opt1");if(d&&!c)return await this.resolveToMldsa(t)===o;if(c&&!d)return await this.resolveToMldsa(s)===i;if(d&&c){const u=await this.resolveToMldsa(t),h=await this.resolveToMldsa(s);return!!u&&u===h}return!1}clearCache(){this.p2trToMldsa.clear(),this.mldsaToP2tr.clear(),this.tweakedPubkeyCache.clear()}}const de=je.getInstance(),va=[{name:"listNFT",type:"function",inputs:[{name:"collection",type:B.ADDRESS},{name:"tokenId",type:B.UINT256},{name:"priceSats",type:B.UINT256}],outputs:[{name:"success",type:B.BOOL}]},{name:"cancelListing",type:"function",inputs:[{name:"collection",type:B.ADDRESS},{name:"tokenId",type:B.UINT256}],outputs:[{name:"success",type:B.BOOL}]},{name:"buyNFT",type:"function",inputs:[{name:"collection",type:B.ADDRESS},{name:"tokenId",type:B.UINT256}],outputs:[{name:"success",type:B.BOOL}]},{name:"getListing",type:"function",constant:!0,inputs:[{name:"collection",type:B.ADDRESS},{name:"tokenId",type:B.UINT256}],outputs:[{name:"priceSats",type:B.UINT256},{name:"seller",type:B.ADDRESS}]},{name:"getStats",type:"function",constant:!0,inputs:[],outputs:[{name:"totalVolume",type:B.UINT256},{name:"totalSales",type:B.UINT256},{name:"listingCount",type:B.UINT256},{name:"feeBps",type:B.UINT256}]}];class Ne{static instance;mockListings=new Map;contract=null;constructor(){}static getInstance(){return Ne.instance||(Ne.instance=new Ne),Ne.instance}isContractLive(){return Xe!==null}async waitForConfirmation(t,s=3e5,a=5e3){if(!t||t==="submitted"||t==="mock")return;const r=J.getProvider(),i=Date.now()+s;for(;Date.now()<i;){try{const o=await r.getTransactionReceipt(t);if(o){if(o.failed)throw new Error(o.revert??"Transaction failed on-chain");return}}catch(o){const d=o instanceof Error?o.message:"";if(d.includes("failed")||d.includes("revert"))throw o}await new Promise(o=>setTimeout(o,a))}throw new Error("Transaction confirmation timed out. Check your wallet for status.")}getContract(){if(this.contract)return this.contract;const t=J.getProvider(),s=J.getNetwork();return this.contract=Qe(Xe,va,t,s),this.contract}getListings(){return Array.from(this.mockListings.values())}async getListingAsync(t,s){const a=this.getContract();if(a)try{const i=await de.resolveToTweakedPubkey(t);if(!i)return null;const o=fe.fromString(i),d=await a.getListing(o,s);return d.revert||d.properties.priceSats===0n?null:{tokenId:s,collectionAddress:t,seller:d.properties.seller.toString(16),priceSats:d.properties.priceSats,listedAt:0}}catch(i){console.warn("[MarketplaceService] getListing on-chain failed:",i)}const r=`${t.toLowerCase()}:${s}`;return this.mockListings.get(r)??null}getListing(t,s){const a=`${t.toLowerCase()}:${s}`;return this.mockListings.get(a)??null}async getStatsAsync(){const t=this.getContract();if(!t)return null;const s=await t.getStats();return s.revert?null:s.properties}async listForSale(t,s,a,r,i){const o=this.getContract();if(o&&r){const c=await de.resolveToTweakedPubkey(t);if(!c)throw new Error("Could not resolve collection address");const u=fe.fromString(c);o.setSender(r);const h=await o.listNFT(u,s,a);if(h.revert)throw new Error(h.revert);const m=await h.sendTransaction({signer:null,mldsaSigner:null,refundTo:i,maximumAllowedSatToSpend:50000n});return typeof m=="object"&&m!==null?String(m.transactionId??m.txid??"submitted"):"submitted"}const d=`${t.toLowerCase()}:${s}`;return this.mockListings.set(d,{tokenId:s,collectionAddress:t,seller:i,priceSats:a,listedAt:Date.now()}),"mock"}async buyNFT(t,s,a,r){const i=this.getContract();if(i&&a){const o=await de.resolveToTweakedPubkey(t);if(!o)throw new Error("Could not resolve collection address");const d=fe.fromString(o);i.setSender(a);const c=await i.buyNFT(d,s);if(c.revert)throw new Error(c.revert);const u=await c.sendTransaction({signer:null,mldsaSigner:null,refundTo:r,maximumAllowedSatToSpend:50000n});return typeof u=="object"&&u!==null?String(u.transactionId??u.txid??"submitted"):"submitted"}throw new Error("Connect wallet to buy NFTs")}async cancelListing(t,s,a,r){const i=this.getContract();if(i&&a){const d=await de.resolveToTweakedPubkey(t);if(!d)throw new Error("Could not resolve collection address");const c=fe.fromString(d);i.setSender(a);const u=await i.cancelListing(c,s);if(u.revert)throw new Error(u.revert);const h=await u.sendTransaction({signer:null,mldsaSigner:null,refundTo:r,maximumAllowedSatToSpend:50000n});return typeof h=="object"&&h!==null?String(h.transactionId??h.txid??"submitted"):"submitted"}const o=`${t.toLowerCase()}:${s}`;return this.mockListings.delete(o),"mock"}async approveForMarketplace(t,s,a,r){const i=J.getProvider(),o=J.getNetwork();if(!await de.resolveToTweakedPubkey(t))throw new Error("Could not resolve collection address");const c=await de.resolveToTweakedPubkey(Xe);if(!c)throw new Error("Could not resolve marketplace address");const u=fe.fromString(c),h=[{name:"approve",type:"function",inputs:[{name:"operator",type:B.ADDRESS},{name:"tokenId",type:B.UINT256}],outputs:[]}],m=Qe(t,h,i,o);m.setSender(a);const f=await m.approve(u,s);if(f.revert)throw new Error(f.revert);const w=await f.sendTransaction({signer:null,mldsaSigner:null,refundTo:r,maximumAllowedSatToSpend:50000n});return typeof w=="object"&&w!==null?String(w.transactionId??w.txid??"submitted"):"submitted"}clearCache(){this.mockListings.clear(),this.contract=null}}const U=Ne.getInstance();function ee({className:n=""}){return e.jsx("div",{className:`skeleton ${n}`})}function Ze(){const n=pe(),[t,s]=l.useState([]),[a,r]=l.useState(new Map),[i,o]=l.useState(!0);l.useEffect(()=>{async function u(){o(!0);const h=he();if(h.length===0){s([]),o(!1);return}const m=[];for(const w of h)try{const g=await oe.getCollectionInfo(w.address),x=await oe.getCollectionNFTs(w.address,4);m.push({info:g,published:w,previewItems:x})}catch{}s(m),o(!1);const f=new Map;for(const w of m)try{let g=null;const x=Number(w.info.totalSupply);for(let y=1;y<=x;y++){const j=await U.getListingAsync(w.info.address,BigInt(y));j&&(g===null||j.priceSats<g)&&(g=j.priceSats)}const p=await U.getStatsAsync();f.set(w.info.address,{floorPriceSats:g,volumeSats:p?.totalVolume??0n})}catch{f.set(w.info.address,{floorPriceSats:null,volumeSats:0n})}r(f)}u()},[]);const d=l.useCallback(u=>{n(`/collection/${u}`)},[n]),c=t.length>0;return e.jsxs("div",{className:"explore-page",children:[c?e.jsxs("section",{className:"hero-spotlight",onClick:()=>d(t[0].info.address),children:[e.jsx("div",{className:"hero-spotlight-bg hero-spotlight-bg-gradient"}),e.jsx("div",{className:"hero-spotlight-overlay"}),e.jsxs("div",{className:"hero-spotlight-content",children:[e.jsx("span",{className:"hero-spotlight-badge",children:"Featured Collection"}),e.jsx("h1",{className:"hero-spotlight-title",children:t[0].info.name}),e.jsx("p",{className:"hero-spotlight-desc",children:t[0].info.description??`${t[0].info.symbol}  ${t[0].info.totalSupply.toString()} items on Bitcoin L1`}),e.jsxs("div",{className:"hero-spotlight-stats",children:[e.jsxs("div",{className:"spotlight-stat",children:[e.jsx("span",{className:"spotlight-stat-value",children:t[0].info.totalSupply.toString()}),e.jsx("span",{className:"spotlight-stat-label",children:"Items"})]}),e.jsxs("div",{className:"spotlight-stat",children:[e.jsx("span",{className:"spotlight-stat-value",children:t[0].info.symbol}),e.jsx("span",{className:"spotlight-stat-label",children:"Symbol"})]})]}),e.jsx("button",{className:"btn btn-primary btn-lg",children:"View Collection"})]})]}):e.jsxs("section",{className:"hero-spotlight hero-empty",children:[e.jsx("div",{className:"hero-spotlight-bg hero-spotlight-bg-gradient"}),e.jsx("div",{className:"hero-spotlight-overlay"}),e.jsxs("div",{className:"hero-spotlight-content",children:[e.jsx("h1",{className:"hero-spotlight-title",children:"Welcome to GremlinX"}),e.jsx("p",{className:"hero-spotlight-desc",children:"The first NFT marketplace on Bitcoin L1. Publish your OP721 collection to get started."}),e.jsx(K,{to:"/publish",className:"btn btn-primary btn-lg",children:"Publish a Collection"})]})]}),e.jsxs("section",{className:"home-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"All Collections"}),e.jsx("span",{className:"section-subtitle",children:"Indexed directly from the Bitcoin blockchain"})]}),i?e.jsx("div",{className:"trending-grid",children:Array.from({length:3}).map((u,h)=>e.jsxs("div",{className:"trending-card",children:[e.jsx(ee,{className:"nft-image-skeleton"}),e.jsx(ee,{className:"nft-text-skeleton"})]},h))}):c?e.jsxs("div",{className:"collections-table",children:[e.jsxs("div",{className:"table-header",children:[e.jsx("span",{className:"th-rank",children:"#"}),e.jsx("span",{className:"th-collection",children:"Collection"}),e.jsx("span",{className:"th-floor",children:"Floor Price"}),e.jsx("span",{className:"th-change",children:"24h %"}),e.jsx("span",{className:"th-volume",children:"Volume"}),e.jsx("span",{className:"th-items",children:"Items"})]}),t.map((u,h)=>{const m=a.get(u.info.address);return e.jsxs("div",{className:"table-row",onClick:()=>d(u.info.address),children:[e.jsx("span",{className:"td-rank",children:h+1}),e.jsxs("div",{className:"td-collection",children:[e.jsx("div",{className:"table-icon table-icon-letter",children:u.info.symbol.charAt(0)}),e.jsxs("div",{className:"table-col-info",children:[e.jsx("span",{className:"table-col-name",children:u.info.name}),e.jsx("span",{className:"table-col-symbol",children:u.info.symbol})]})]}),e.jsx("span",{className:"td-floor",children:m?.floorPriceSats?`${P.satsToBTC(m.floorPriceSats)} BTC`:""}),e.jsx("span",{className:"td-change",children:""}),e.jsx("span",{className:"td-volume",children:m&&m.volumeSats>0n?`${P.satsToBTC(m.volumeSats)} BTC`:""}),e.jsx("span",{className:"td-items",children:u.info.totalSupply.toString()})]},u.info.address)})]}):e.jsxs("div",{className:"explore-empty-state",children:[e.jsx("div",{className:"explore-empty-icon",children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),e.jsx("line",{x1:"8",y1:"12",x2:"16",y2:"12"})]})}),e.jsx("h3",{children:"No Collections Yet"}),e.jsx("p",{children:"Be the first to publish an OP721 NFT collection on GremlinX!"}),e.jsx(K,{to:"/publish",className:"btn btn-primary btn-md",children:"Publish Collection"})]})]}),c&&e.jsxs("section",{className:"home-section",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"Browse NFTs"}),e.jsx("span",{className:"section-subtitle",children:"Preview items from published collections"})]}),e.jsx("div",{className:"browse-grid",children:t.flatMap(u=>u.previewItems.slice(0,4).map(h=>e.jsxs("div",{className:"browse-card",onClick:()=>{n(`/collection/${h.collectionAddress}/${h.tokenId.toString()}`)},children:[e.jsx("div",{className:"browse-card-img-wrap",children:h.metadata?.image?e.jsx("img",{src:h.metadata.image,alt:h.metadata.name??"NFT",className:"browse-card-img"}):e.jsx("div",{className:"browse-card-img browse-card-blank"})}),e.jsxs("div",{className:"browse-card-body",children:[e.jsx("span",{className:"browse-card-collection",children:u.info.name}),e.jsx("span",{className:"browse-card-name",children:h.metadata?.name??`#${h.tokenId.toString()}`})]})]},`${h.collectionAddress}:${h.tokenId}`)))})]}),e.jsxs("section",{className:"home-section how-it-works",children:[e.jsxs("div",{className:"section-header",children:[e.jsx("h2",{className:"section-title",children:"How It Works"}),e.jsx("span",{className:"section-subtitle",children:"Trade NFTs natively on Bitcoin  no bridges, no wrapping"})]}),e.jsxs("div",{className:"steps-grid",children:[e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-number",children:"1"}),e.jsx("h3",{children:"Connect Wallet"}),e.jsx("p",{children:"Connect your OP_WALLET to the OPNet Bitcoin network."})]}),e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-number",children:"2"}),e.jsx("h3",{children:"Publish Collection"}),e.jsx("p",{children:"Enter your OP721 contract address. GremlinX indexes it from the blockchain."})]}),e.jsxs("div",{className:"step-card",children:[e.jsx("div",{className:"step-number",children:"3"}),e.jsx("h3",{children:"Buy & Sell"}),e.jsx("p",{children:"Browse, list, and buy NFTs. All transactions settle on Bitcoin L1."})]})]})]})]})}function ja(n,t){const[s,a]=l.useState(null),[r,i]=l.useState(!1),[o,d]=l.useState(null),c=l.useCallback(async()=>{if(!(!n||t===null)){i(!0),d(null);try{const u=Le.getNFTContract(n),h=await oe.getNFTItem(u,n,t);a(h)}catch(u){const h=u instanceof Error?u.message:"Failed to load NFT";d(h)}finally{i(!1)}}},[n,t]);return l.useEffect(()=>{c()},[c]),{item:s,loading:r,error:o,refresh:c}}function Na({attributes:n}){return n.length===0?e.jsx("p",{className:"text-secondary",children:"No traits available"}):e.jsx("div",{className:"trait-grid",children:n.map((t,s)=>e.jsxs("div",{className:"trait-card",children:[e.jsx("span",{className:"trait-type",children:t.trait_type}),e.jsx("span",{className:"trait-value",children:t.value})]},s))})}function re({variant:n="primary",size:t="md",children:s,className:a="",...r}){return e.jsx("button",{className:`btn btn-${n} btn-${t} ${a}`,...r,children:s})}function xe({icon:n,heading:t,description:s,actionLabel:a,actionHref:r,onAction:i}){const o=pe();function d(){i?i():r&&o(r)}return e.jsxs("div",{className:"empty-state",children:[n&&e.jsx("div",{className:"empty-state-icon",children:n}),e.jsx("h2",{className:"empty-state-heading",children:t}),s&&e.jsx("p",{className:"empty-state-description",children:s}),a&&e.jsx("button",{className:"btn btn-primary btn-md empty-state-action",onClick:d,children:a})]})}function ba(){return e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"7",height:"7",rx:"1"}),e.jsx("rect",{x:"14",y:"3",width:"7",height:"7",rx:"1"}),e.jsx("rect",{x:"3",y:"14",width:"7",height:"7",rx:"1"}),e.jsx("rect",{x:"14",y:"14",width:"7",height:"7",rx:"1"})]})}function Ca(){return e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),e.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),e.jsx("path",{d:"M21 15l-5-5L5 21"})]})}function ka(){return e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"2",y:"6",width:"20",height:"12",rx:"2"}),e.jsx("path",{d:"M16 10h.01"}),e.jsx("path",{d:"M2 10h20"})]})}function Fe(){return e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",stroke:"var(--text-muted)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"2",y:"2",width:"20",height:"20",rx:"2"}),e.jsx("path",{d:"M7 2v20"}),e.jsx("path",{d:"M17 2v20"}),e.jsx("path",{d:"M2 12h20"}),e.jsx("path",{d:"M2 7h5"}),e.jsx("path",{d:"M2 17h5"}),e.jsx("path",{d:"M17 7h5"}),e.jsx("path",{d:"M17 17h5"})]})}function qt({open:n,onClose:t,title:s,children:a}){return n?e.jsx("div",{className:"modal-backdrop",onClick:t,children:e.jsxs("div",{className:"modal-content",onClick:r=>r.stopPropagation(),children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h3",{children:s}),e.jsx("button",{className:"modal-close",onClick:t,"aria-label":"Close",children:""})]}),e.jsx("div",{className:"modal-body",children:a})]})}):null}function Sa({open:n,onClose:t,collectionAddress:s,tokenId:a}){const[r,i]=l.useState(""),[o,d]=l.useState(!1),[c,u]=l.useState("idle"),{addToast:h}=Ue(),{address:m,walletAddress:f}=ke();async function w(){if(!r||parseFloat(r)<=0){h("error","Invalid Price","Please enter a valid BTC price.");return}if(!m||!f){h("error","Not Connected","Connect your wallet first.");return}d(!0);try{u("approving");const g=await U.approveForMarketplace(s,a,m,f);u("approve-confirming"),await U.waitForConfirmation(g),u("signing");const x=P.btcToSats(r),p=await U.listForSale(s,a,x,m,f);u("confirming"),await U.waitForConfirmation(p),h("success","Listed!",`NFT listed for ${r} BTC  confirmed on-chain!`),t()}catch(g){const x=g instanceof Error?g.message:"Could not list NFT.";h("error","Failed",x)}finally{d(!1),u("idle")}}return e.jsx(qt,{open:n,onClose:t,title:"List for Sale",children:e.jsxs("div",{className:"modal-form",children:[e.jsx("label",{className:"form-label",children:"Price (BTC)"}),e.jsx("input",{type:"text",className:"form-input",value:r,onChange:g=>i(g.target.value),placeholder:"0.001"}),e.jsx(re,{onClick:()=>{w()},disabled:o||!r,children:c==="confirming"?"Confirming listing on-chain":c==="signing"?"Approve listing in wallet":c==="approve-confirming"?"Confirming approval on-chain":c==="approving"?"Approve NFT transfer in wallet":"Confirm Listing"})]})})}const Nt=2,bt=5;function Ta(n){return parseFloat(n)||0}function se(n){return n===0?"0":n.toFixed(8).replace(/0+$/,"").replace(/\.$/,"")}function Aa({open:n,onClose:t,collectionAddress:s,collectionName:a,tokenId:r,tokenName:i,tokenImage:o,priceBTC:d,ownerAddress:c}){const[u,h]=l.useState("review"),[m,f]=l.useState(""),{walletBalance:w,address:g,walletAddress:x}=ke(),{addToast:p}=Ue();l.useEffect(()=>{n&&(h("review"),f(""))},[n]);const y=Ta(d),j=y*(Nt/100),b=y*(bt/100),k=y+j+b,N=(w?Number(w.total):0)/1e8,C=N>=k;l.useEffect(()=>{if(!n)return;function D(O){O.key==="Escape"&&u!=="processing"&&t()}return window.addEventListener("keydown",D),()=>window.removeEventListener("keydown",D)},[n,u,t]);const R=l.useCallback(async()=>{if(!g||!x){p("error","Not Connected","Connect your wallet first.");return}h("processing");try{const D=await U.buyNFT(s,r,g,x);h("confirming"),await U.waitForConfirmation(D),h("success")}catch(D){const O=D instanceof Error?D.message:"Transaction failed";f(O),h("error")}},[s,r,g,x,p]);if(!n)return null;function E(){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bm-preview",children:[o?e.jsx("img",{src:o,alt:i,className:"bm-nft-img"}):e.jsx("div",{className:"bm-nft-img bm-nft-placeholder",children:e.jsxs("svg",{width:"32",height:"32",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("path",{d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),e.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",stroke:"currentColor",strokeWidth:"1.5"})]})}),e.jsxs("div",{className:"bm-nft-info",children:[e.jsx("span",{className:"bm-collection-name",children:a}),e.jsx("span",{className:"bm-nft-name",children:i}),e.jsx("span",{className:"bm-nft-id",children:P.formatTokenId(r)})]})]}),e.jsx("div",{className:"bm-divider"}),e.jsxs("div",{className:"bm-breakdown",children:[e.jsxs("div",{className:"bm-row",children:[e.jsx("span",{children:"Item price"}),e.jsxs("span",{className:"bm-row-val",children:[se(y)," BTC"]})]}),e.jsxs("div",{className:"bm-row",children:[e.jsxs("span",{children:["Marketplace fee ",e.jsxs("span",{className:"bm-pct",children:[Nt,"%"]})]}),e.jsxs("span",{className:"bm-row-val",children:[se(j)," BTC"]})]}),e.jsxs("div",{className:"bm-row",children:[e.jsxs("span",{children:["Creator royalty ",e.jsxs("span",{className:"bm-pct",children:[bt,"%"]})]}),e.jsxs("span",{className:"bm-row-val",children:[se(b)," BTC"]})]}),e.jsx("div",{className:"bm-divider"}),e.jsxs("div",{className:"bm-row bm-total-row",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"bm-row-val",children:[se(k)," BTC"]})]})]}),e.jsxs("div",{className:`bm-balance ${C?"":"bm-balance-low"}`,children:[e.jsxs("div",{className:"bm-row",children:[e.jsx("span",{children:"Your balance"}),e.jsx("span",{className:"bm-row-val",children:N>0?`${se(N)} BTC`:"Not connected"})]}),!C&&N>0&&e.jsxs("span",{className:"bm-balance-warn",children:["Insufficient funds  need ",se(k-N)," more BTC"]})]}),e.jsxs("div",{className:"bm-seller",children:[e.jsx("span",{className:"bm-seller-label",children:"Seller"}),e.jsx("span",{className:"bm-seller-addr",title:c,children:P.formatAddress(c)})]}),e.jsx("button",{className:"bm-btn bm-btn-primary",onClick:()=>h("confirm"),disabled:!C||N===0,children:N===0?"Connect Wallet First":C?"Continue to Confirm":"Insufficient Funds"})]})}function I(){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bm-confirm-hero",children:[e.jsx("div",{className:"bm-confirm-icon",children:e.jsxs("svg",{width:"48",height:"48",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("path",{d:"M12 9v4m0 4h.01",stroke:"var(--accent)",strokeWidth:"2",strokeLinecap:"round"}),e.jsx("circle",{cx:"12",cy:"12",r:"9",stroke:"var(--accent)",strokeWidth:"1.5"})]})}),e.jsx("h3",{className:"bm-confirm-title",children:"Confirm Purchase"}),e.jsxs("p",{className:"bm-confirm-desc",children:["You are about to buy ",e.jsx("strong",{children:i})," from"," ",e.jsx("strong",{children:a})," for"," ",e.jsxs("strong",{children:[se(k)," BTC"]})," (incl. fees)."]}),e.jsx("p",{className:"bm-confirm-sub",children:"This action is irreversible. Your wallet will prompt for signature."})]}),e.jsx("div",{className:"bm-mini-summary",children:e.jsxs("div",{className:"bm-row bm-total-row",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"bm-row-val bm-total-big",children:[se(k)," BTC"]})]})}),e.jsxs("div",{className:"bm-actions-pair",children:[e.jsx("button",{className:"bm-btn bm-btn-secondary",onClick:()=>h("review"),children:"Back"}),e.jsx("button",{className:"bm-btn bm-btn-primary",onClick:()=>{R()},children:"Confirm & Pay"})]})]})}function H(){return e.jsxs("div",{className:"bm-status",children:[e.jsx("div",{className:"bm-spinner"}),e.jsx("h3",{className:"bm-status-title",children:"Sending Transaction"}),e.jsx("p",{className:"bm-status-desc",children:"Approve the transaction in your wallet"}),e.jsxs("div",{className:"bm-steps",children:[e.jsxs("div",{className:"bm-step bm-step-done",children:[e.jsx("div",{className:"bm-step-dot"}),e.jsx("span",{children:"Review"})]}),e.jsx("div",{className:"bm-step-line bm-step-line-done"}),e.jsxs("div",{className:"bm-step bm-step-done",children:[e.jsx("div",{className:"bm-step-dot"}),e.jsx("span",{children:"Confirm"})]}),e.jsx("div",{className:"bm-step-line bm-step-line-active"}),e.jsxs("div",{className:"bm-step bm-step-active",children:[e.jsx("div",{className:"bm-step-dot"}),e.jsx("span",{children:"Sign"})]}),e.jsx("div",{className:"bm-step-line"}),e.jsxs("div",{className:"bm-step",children:[e.jsx("div",{className:"bm-step-dot"}),e.jsx("span",{children:"Confirm on-chain"})]})]})]})}function ne(){return e.jsxs("div",{className:"bm-status",children:[e.jsx("div",{className:"bm-spinner"}),e.jsx("h3",{className:"bm-status-title",children:"Waiting for Block Confirmation"}),e.jsx("p",{className:"bm-status-desc",children:"Transaction broadcast successfully. Waiting for the next block to confirm"}),e.jsxs("div",{className:"bm-steps",children:[e.jsxs("div",{className:"bm-step bm-step-done",children:[e.jsx("div",{className:"bm-step-dot"}),e.jsx("span",{children:"Review"})]}),e.jsx("div",{className:"bm-step-line bm-step-line-done"}),e.jsxs("div",{className:"bm-step bm-step-done",children:[e.jsx("div",{className:"bm-step-dot"}),e.jsx("span",{children:"Confirm"})]}),e.jsx("div",{className:"bm-step-line bm-step-line-done"}),e.jsxs("div",{className:"bm-step bm-step-done",children:[e.jsx("div",{className:"bm-step-dot"}),e.jsx("span",{children:"Sign"})]}),e.jsx("div",{className:"bm-step-line bm-step-line-active"}),e.jsxs("div",{className:"bm-step bm-step-active",children:[e.jsx("div",{className:"bm-step-dot"}),e.jsx("span",{children:"Confirm on-chain"})]})]})]})}function q(){return e.jsxs("div",{className:"bm-status",children:[e.jsx("div",{className:"bm-success-icon",children:e.jsxs("svg",{width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"var(--success)",strokeWidth:"1.5"}),e.jsx("path",{d:"M8 12l2.5 2.5L16 9",stroke:"var(--success)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsx("h3",{className:"bm-status-title",children:"Purchase Complete!"}),e.jsxs("p",{className:"bm-status-desc",children:[e.jsx("strong",{children:i})," is now in your wallet."]}),e.jsxs("div",{className:"bm-success-summary",children:[e.jsxs("div",{className:"bm-row",children:[e.jsx("span",{children:"Paid"}),e.jsxs("span",{className:"bm-row-val",children:[se(k)," BTC"]})]}),e.jsxs("div",{className:"bm-row",children:[e.jsx("span",{children:"Collection"}),e.jsx("span",{className:"bm-row-val",children:a})]})]}),e.jsx("button",{className:"bm-btn bm-btn-primary",onClick:t,children:"Done"})]})}function W(){return e.jsxs("div",{className:"bm-status",children:[e.jsx("div",{className:"bm-error-icon",children:e.jsxs("svg",{width:"56",height:"56",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"var(--error)",strokeWidth:"1.5"}),e.jsx("path",{d:"M15 9l-6 6M9 9l6 6",stroke:"var(--error)",strokeWidth:"2",strokeLinecap:"round"})]})}),e.jsx("h3",{className:"bm-status-title",children:"Transaction Failed"}),e.jsx("p",{className:"bm-status-desc",children:m||"Something went wrong. Please try again."}),e.jsxs("div",{className:"bm-actions-pair",children:[e.jsx("button",{className:"bm-btn bm-btn-secondary",onClick:t,children:"Close"}),e.jsx("button",{className:"bm-btn bm-btn-primary",onClick:()=>h("review"),children:"Try Again"})]})]})}function S(){switch(u){case"review":return E();case"confirm":return I();case"processing":return H();case"confirming":return ne();case"success":return q();case"error":return W()}}const G=u!=="processing"&&u!=="confirming";return e.jsx("div",{className:"bm-backdrop",onClick:G?t:void 0,children:e.jsxs("div",{className:"bm-panel",onClick:D=>D.stopPropagation(),children:[e.jsxs("div",{className:"bm-header",children:[e.jsxs("h2",{className:"bm-title",children:[u==="review"&&"Checkout",u==="confirm"&&"Confirm Purchase",u==="processing"&&"Signing",u==="confirming"&&"Confirming",u==="success"&&"Success",u==="error"&&"Error"]}),G&&e.jsx("button",{className:"bm-close",onClick:t,"aria-label":"Close",children:e.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})})]}),e.jsx("div",{className:"bm-progress",children:e.jsx("div",{className:`bm-progress-bar ${u==="review"?"bm-w33":u==="confirm"?"bm-w50":u==="processing"?"bm-w66":u==="confirming"?"bm-w83":"bm-w100"}`})}),e.jsx("div",{className:"bm-body",children:S()})]})})}function Ia(){const{address:n,tokenId:t}=nt(),s=pe(),{walletAddress:a,address:r}=ke(),{addToast:i}=Ue(),o=n??"",d=BigInt(t??"0"),{item:c,loading:u,error:h}=ja(o,d),[m,f]=l.useState(!1),[w,g]=l.useState(!1),[x,p]=l.useState(!1),[y,j]=l.useState(null),[b,k]=l.useState(!1),A=()=>{U.getListingAsync(o,d).then(I=>{j(I?.priceSats??null)}).catch(()=>{j(null)})};l.useEffect(()=>{A()},[o,d]);const[N,C]=l.useState(null);l.useEffect(()=>{let I=!1;return a&&c?.owner?de.addressesMatch(a,c.owner).then(H=>{I||p(H)}):p(!1),()=>{I=!0}},[a,c?.owner]),l.useEffect(()=>{if(!c?.owner){C(null);return}if(c.owner.startsWith("opt1")){C(c.owner);return}if(x&&a){C(a);return}const I=de.getP2trFromMldsa(c.owner);C(I??c.owner)},[c?.owner,x,a]);const R=l.useMemo(()=>he().find(ne=>ne.address.toLowerCase()===o.toLowerCase())?.name??"Collection",[o]);if(u)return e.jsxs("div",{className:"detail-page loading-state",children:[e.jsx(ee,{className:"detail-image-skeleton"}),e.jsx(ee,{className:"detail-text-skeleton"})]});if(h||!c)return e.jsx("div",{className:"detail-page",children:e.jsx(xe,{icon:e.jsx(Ca,{}),heading:"NFT Not Found",description:"This NFT doesn't exist or failed to load. It may have been burned or the collection is not deployed yet.",actionLabel:"Back to Explore",actionHref:"/explore"})});const E=y?P.satsToBTC(y):c.metadata?.price??null;return e.jsxs("div",{className:"detail-page",children:[e.jsx("div",{className:"detail-image-col",children:c.metadata?.image?e.jsx("img",{src:c.metadata.image,alt:c.metadata.name??"NFT",className:"detail-image"}):e.jsx("div",{className:"detail-image-placeholder",children:"No Image"})}),e.jsxs("div",{className:"detail-info-col",children:[e.jsx("button",{className:"back-link",onClick:()=>{s(`/collection/${o}`)},children:" Back to Collection"}),e.jsx("h1",{className:"detail-name",children:c.metadata?.name??P.formatTokenId(c.tokenId)}),e.jsx("p",{className:"detail-id",children:P.formatTokenId(c.tokenId)}),c.metadata?.description&&e.jsx("p",{className:"detail-description",children:c.metadata.description}),E&&e.jsxs("div",{className:"detail-price-box",children:[e.jsx("span",{className:"detail-price-label",children:"Price"}),e.jsxs("span",{className:"detail-price-value",children:[E," BTC"]})]}),e.jsxs("div",{className:"detail-owner",children:[e.jsx("span",{className:"label",children:"Owner"}),e.jsx(K,{to:`/profile/${N??c.owner}`,className:"detail-owner-link",title:N??c.owner,children:x?"You":P.formatAddress(N??c.owner)})]}),e.jsx("div",{className:"detail-actions",children:x?y?e.jsxs(e.Fragment,{children:[e.jsx(re,{variant:"secondary",disabled:b,onClick:()=>{if(!r||!a){i("error","Not Connected","Connect your wallet first.");return}k(!0),U.cancelListing(o,d,r,a).then(I=>{i("success","Delisted",`Listing cancelled (tx: ${I.slice(0,12)})`),j(null)}).catch(I=>{const H=I instanceof Error?I.message:"Could not cancel listing.";i("error","Failed",H)}).finally(()=>k(!1))},children:b?"Delisting":"Delist"}),e.jsx(re,{onClick:()=>f(!0),children:"Change Price"})]}):e.jsx(re,{onClick:()=>f(!0),children:"List for Sale"}):e.jsx(re,{onClick:()=>g(!0),disabled:!E,children:E?"Buy Now":"Not Listed"})}),c.metadata?.attributes&&c.metadata.attributes.length>0&&e.jsxs("div",{className:"detail-traits",children:[e.jsx("h3",{children:"Traits"}),e.jsx(Na,{attributes:c.metadata.attributes})]})]}),e.jsx(Sa,{open:m,onClose:()=>{f(!1),A()},collectionAddress:o,tokenId:d}),e.jsx(Aa,{open:w,onClose:()=>g(!1),collectionAddress:o,collectionName:R,tokenId:d,tokenName:c.metadata?.name??P.formatTokenId(d),tokenImage:c.metadata?.image??null,priceBTC:E??"0",ownerAddress:c.owner})]})}function La(n){const[t,s]=l.useState(null),[a,r]=l.useState([]),[i,o]=l.useState(!1),[d,c]=l.useState(null),u=l.useCallback(async()=>{if(n){o(!0),c(null);try{const h=await oe.getCollectionInfo(n);s(h);const m=await oe.getCollectionNFTs(n,50);r(m)}catch(h){const m=h instanceof Error?h.message:"Failed to load collection";c(m)}finally{o(!1)}}},[n]);return l.useEffect(()=>{u()},[u]),{info:t,items:a,loading:i,error:d,refresh:u}}function Ea({src:n,alt:t}){const[s,a]=l.useState(!1),[r,i]=l.useState(!1);return!n||r?e.jsx("div",{className:"nft-image-placeholder",children:e.jsx("span",{children:"No Image"})}):e.jsxs("div",{className:"nft-image-wrapper",children:[!s&&e.jsx(ee,{className:"nft-image-skeleton"}),e.jsx("img",{src:n,alt:t,className:`nft-image ${s?"loaded":"loading"}`,onLoad:()=>a(!0),onError:()=>i(!0),loading:"lazy"})]})}function Pa({item:n,collectionName:t,priceSats:s,onClick:a}){const r=n.metadata?.name??P.formatTokenId(n.tokenId),i=s!==void 0&&s>0n?`${P.satsToBTC(s)} BTC`:n.metadata?.price?`${n.metadata.price} BTC`:null;return e.jsxs("div",{className:"nft-card",onClick:a,role:"button",tabIndex:0,children:[e.jsx(Ea,{src:n.metadata?.image,alt:r}),e.jsxs("div",{className:"nft-card-body",children:[t&&e.jsx("span",{className:"nft-card-collection",children:t}),e.jsx("span",{className:"nft-card-name",children:r}),e.jsx("span",{className:"nft-card-id",children:P.formatTokenId(n.tokenId)}),e.jsxs("div",{className:"nft-card-footer",children:[e.jsx("span",{className:"nft-card-owner",children:P.formatAddress(n.owner,4)}),i&&e.jsx("span",{className:"nft-card-price",children:i})]})]})]})}function _e({items:n,loading:t,collectionName:s,listingPrices:a,onSelect:r}){return t?e.jsx("div",{className:"nft-grid",children:Array.from({length:8}).map((i,o)=>e.jsxs("div",{className:"nft-card-skeleton",children:[e.jsx(ee,{className:"nft-image-skeleton"}),e.jsx(ee,{className:"nft-text-skeleton"}),e.jsx(ee,{className:"nft-text-skeleton short"})]},o))}):n.length===0?e.jsx(xe,{icon:e.jsx(Fe,{}),heading:"No NFTs Found",description:"This collection doesn't have any items yet, or they haven't been indexed.",actionLabel:"Explore Collections",actionHref:"/explore"}):e.jsx("div",{className:"nft-grid",children:n.map(i=>e.jsx(Pa,{item:i,collectionName:s,priceSats:a?.get(i.tokenId.toString())??a?.get(`${i.collectionAddress}:${i.tokenId}`),onClick:()=>r(i)},`${i.collectionAddress}:${i.tokenId}`))})}function Ma(){const{address:n}=nt(),t=pe(),s=n??"",{info:a,items:r,loading:i,error:o}=La(s),[d,c]=l.useState(!1),[u,h]=l.useState("items"),[m,f]=l.useState(new Map),[w,g]=l.useState(0n),[x,p]=l.useState([]);l.useEffect(()=>{if(!r.length||!s)return;let N=!1;async function C(){const R=new Map;await Promise.allSettled(r.map(async E=>{const I=await U.getListingAsync(s,E.tokenId);I&&I.priceSats>0n&&R.set(E.tokenId.toString(),I.priceSats)})),N||f(R);try{const E=await U.getStatsAsync();!N&&E&&g(E.totalVolume)}catch{}}return C(),()=>{N=!0}},[r,s]);const y=l.useMemo(()=>{let N=null;for(const C of m.values())(N===null||C<N)&&(N=C);return N},[m]),j=l.useMemo(()=>{const N=[...r];return N.sort((C,R)=>{const E=m.has(C.tokenId.toString())||C.metadata?.price?1:0;return(m.has(R.tokenId.toString())||R.metadata?.price?1:0)-E}),N},[r,m]),b=l.useCallback(N=>{t(`/collection/${s}/${N.tokenId.toString()}`)},[t,s]);function k(){navigator.clipboard.writeText(s),c(!0),setTimeout(()=>c(!1),2e3)}if(i)return e.jsxs("div",{className:"collection-page loading-state",children:[e.jsx(ee,{className:"banner-skeleton"}),e.jsx(ee,{className:"stats-skeleton"})]});if(o||!a)return e.jsx("div",{className:"collection-page",children:e.jsx(xe,{icon:e.jsx(ba,{}),heading:"Collection Not Found",description:"This collection doesn't exist or failed to load. It may not be deployed on the OPNet testnet yet.",actionLabel:"Back to Explore",actionHref:"/explore"})});const A=j.filter(N=>m.has(N.tokenId.toString())||N.metadata?.price).length;return e.jsxs("div",{className:"collection-page",children:[e.jsxs("section",{className:"collection-banner-area",children:[a.banner?e.jsx("img",{src:a.banner,alt:a.name,className:"collection-banner-img"}):e.jsx("div",{className:"collection-banner-fallback"}),e.jsx("div",{className:"collection-banner-overlay"})]}),e.jsxs("section",{className:"collection-info",children:[a.icon&&e.jsx("img",{src:a.icon,alt:a.name,className:"collection-icon-large"}),e.jsx("h1",{className:"collection-name",children:a.name}),e.jsxs("div",{className:"collection-ca-row",children:[e.jsx("span",{className:"collection-ca-label",children:"CA"}),e.jsx("span",{className:"collection-ca-value",title:a.address,children:a.address}),e.jsx("button",{className:"collection-ca-copy",onClick:k,title:"Copy contract address",children:d?e.jsx("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"var(--success)",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}):e.jsxs("svg",{width:"13",height:"13",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]}),a.description&&e.jsx("p",{className:"collection-description",children:a.description})]}),e.jsxs("section",{className:"collection-stats",children:[e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:y?`${P.satsToBTC(y)} BTC`:""}),e.jsx("span",{className:"stat-label",children:"Floor Price"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:""}),e.jsx("span",{className:"stat-label",children:"24h %"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:w>0n?`${P.satsToBTC(w)} BTC`:""}),e.jsx("span",{className:"stat-label",children:"Volume"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:a.totalSupply.toString()}),e.jsx("span",{className:"stat-label",children:"Items"})]}),e.jsxs("div",{className:"stat",children:[e.jsx("span",{className:"stat-value",children:A}),e.jsx("span",{className:"stat-label",children:"Listed"})]})]}),e.jsxs("section",{className:"collection-tabs",children:[e.jsx("button",{className:`collection-tab-btn${u==="items"?" collection-tab-active":""}`,onClick:()=>h("items"),children:"Items"}),e.jsx("button",{className:`collection-tab-btn${u==="activity"?" collection-tab-active":""}`,onClick:()=>h("activity"),children:"Activity"})]}),u==="items"?e.jsx("section",{className:"collection-grid",children:e.jsx(_e,{items:j,loading:!1,collectionName:a.name,listingPrices:m,onSelect:b})}):e.jsx("section",{className:"collection-activity",children:x.length>0?e.jsxs("div",{className:"activity-table",children:[e.jsxs("div",{className:"activity-header",children:[e.jsx("span",{children:"Event"}),e.jsx("span",{children:"Item"}),e.jsx("span",{children:"Price"}),e.jsx("span",{children:"From"}),e.jsx("span",{children:"To"}),e.jsx("span",{children:"Time"})]}),x.map((N,C)=>e.jsxs("div",{className:"activity-row",children:[e.jsx("span",{className:"activity-event-badge",children:"Sale"}),e.jsxs("span",{className:"activity-item",children:["#",N.tokenId.toString()]}),e.jsxs("span",{className:"activity-price",children:[P.satsToBTC(N.priceSats)," BTC"]}),e.jsx("span",{className:"activity-addr",title:N.seller,children:P.formatAddress(N.seller,4)}),e.jsx("span",{className:"activity-addr",title:N.buyer,children:P.formatAddress(N.buyer,4)}),e.jsx("span",{className:"activity-time",children:new Date(N.timestamp).toLocaleDateString()})]},C))]}):e.jsxs("div",{className:"activity-empty",children:[e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"22 12 18 12 15 21 9 3 6 12 2 12"})}),e.jsx("p",{children:"No sales yet for this collection."}),e.jsx("span",{className:"activity-empty-sub",children:"Sales will appear here once NFTs are purchased."})]})})]})}function ae(n,t,s){return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
<rect width="200" height="200" rx="24" fill="#0a0a0f"/>
<circle cx="100" cy="115" r="55" fill="${n}" opacity="0.12"/>
<ellipse cx="100" cy="116" rx="54" ry="56" fill="${n}"/>
<path d="M48,84 L28,32 L68,68 Z" fill="${t}"/>
<path d="M152,84 L172,32 L132,68 Z" fill="${t}"/>
<path d="M50,82 L32,38 L66,68 Z" fill="${n}" opacity="0.6"/>
<path d="M150,82 L168,38 L134,68 Z" fill="${n}" opacity="0.6"/>
<ellipse cx="74" cy="108" rx="16" ry="18" fill="#e8e8ed"/>
<ellipse cx="126" cy="108" rx="16" ry="18" fill="#e8e8ed"/>
<circle cx="78" cy="108" r="9" fill="#1a1a25"/>
<circle cx="130" cy="108" r="9" fill="#1a1a25"/>
<circle cx="81" cy="104" r="3.5" fill="${s}"/>
<circle cx="133" cy="104" r="3.5" fill="${s}"/>
<path d="M60,92 Q74,83 88,93" stroke="${t}" stroke-width="2.5" fill="none" stroke-linecap="round"/>
<path d="M112,93 Q126,83 140,92" stroke="${t}" stroke-width="2.5" fill="none" stroke-linecap="round"/>
<ellipse cx="100" cy="126" rx="5" ry="3" fill="${t}"/>
<path d="M68,140 Q100,168 132,140" stroke="#1a1a25" stroke-width="2.5" fill="${t}" opacity="0.35" stroke-linecap="round"/>
<rect x="78" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
<rect x="88" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
<rect x="98" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
<rect x="108" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
<rect x="118" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
</svg>`}function Ra(){return`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200">
<defs><linearGradient id="holo" x1="0%" y1="0%" x2="100%" y2="100%">
<stop offset="0%" stop-color="#ff6b00"/><stop offset="20%" stop-color="#ff1493"/>
<stop offset="40%" stop-color="#8b00ff"/><stop offset="60%" stop-color="#00ced1"/>
<stop offset="80%" stop-color="#00ff88"/><stop offset="100%" stop-color="#ffd700"/>
</linearGradient></defs>
<rect width="200" height="200" rx="24" fill="#0a0a0f"/>
<circle cx="100" cy="115" r="55" fill="url(#holo)" opacity="0.12"/>
<ellipse cx="100" cy="116" rx="54" ry="56" fill="url(#holo)"/>
<path d="M48,84 L28,32 L68,68 Z" fill="url(#holo)" opacity="0.7"/>
<path d="M152,84 L172,32 L132,68 Z" fill="url(#holo)" opacity="0.7"/>
<ellipse cx="74" cy="108" rx="16" ry="18" fill="#e8e8ed"/>
<ellipse cx="126" cy="108" rx="16" ry="18" fill="#e8e8ed"/>
<circle cx="78" cy="108" r="9" fill="#1a1a25"/>
<circle cx="130" cy="108" r="9" fill="#1a1a25"/>
<circle cx="81" cy="104" r="3.5" fill="#fff"/>
<circle cx="133" cy="104" r="3.5" fill="#fff"/>
<path d="M60,92 Q74,83 88,93" stroke="#555" stroke-width="2.5" fill="none" stroke-linecap="round"/>
<path d="M112,93 Q126,83 140,92" stroke="#555" stroke-width="2.5" fill="none" stroke-linecap="round"/>
<ellipse cx="100" cy="126" rx="5" ry="3" fill="#444"/>
<path d="M68,140 Q100,168 132,140" stroke="#1a1a25" stroke-width="2.5" fill="#333" opacity="0.35" stroke-linecap="round"/>
<rect x="78" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
<rect x="88" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
<rect x="98" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
<rect x="108" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
<rect x="118" y="139" width="7" height="8" rx="1.5" fill="#e8e8ed"/>
</svg>`}const be=[{id:"orange",name:"Blaze",svg:ae("#FF6B00","#b34700","#ffe0b3")},{id:"green",name:"Toxin",svg:ae("#00CC44","#008830","#b3ffcc")},{id:"purple",name:"Venom",svg:ae("#8B00FF","#5c00aa","#d9b3ff")},{id:"pink",name:"Bubblegum",svg:ae("#FF1493","#b30e68","#ffb3d9")},{id:"blue",name:"Frost",svg:ae("#3399FF","#2266cc","#b3d9ff")},{id:"red",name:"Inferno",svg:ae("#FF3333","#b32424","#ffb3b3")},{id:"gold",name:"Midas",svg:ae("#FFD700","#b39700","#fff5b3")},{id:"white",name:"Ghost",svg:ae("#c8c8d0","#8888a0","#ffffff")},{id:"grey",name:"Shadow",svg:ae("#666680","#3d3d4d","#aaaabd")},{id:"holo",name:"Prisma",svg:Ra()}];function Xt(n){return`data:image/svg+xml,${encodeURIComponent(n)}`}function Da(n){if(n){let t=0;for(let s=0;s<n.length;s++)t=(t<<5)-t+n.charCodeAt(s)|0;return be[Math.abs(t)%be.length].id}return be[Math.floor(Math.random()*be.length)].id}function Ba(n){return be.find(t=>t.id===n)}const Ct="gremlinx_pfp_";function Wa(n){const[t,s]=l.useState("orange");l.useEffect(()=>{if(!n)return;const o=Ct+n.toLowerCase(),d=localStorage.getItem(o);if(d)s(d);else{const c=Da(n);localStorage.setItem(o,c),s(c)}},[n]);const a=l.useCallback(o=>{if(!n)return;const d=Ct+n.toLowerCase();localStorage.setItem(d,o),s(o)},[n]),r=Ba(t),i=r?Xt(r.svg):"";return{avatarId:t,avatarDataURI:i,avatar:r,selectAvatar:a}}function Oa({open:n,onClose:t,currentId:s,onSelect:a}){return e.jsx(qt,{open:n,onClose:t,title:"Choose Your Avatar",children:e.jsx("div",{className:"pfp-grid",children:be.map(r=>e.jsxs("button",{className:`pfp-option ${r.id===s?"selected":""}`,onClick:()=>{a(r.id),t()},title:r.name,children:[e.jsx("img",{src:Xt(r.svg),alt:r.name}),e.jsx("span",{className:"pfp-option-name",children:r.name})]},r.id))})})}function kt(){const n=pe(),{address:t}=nt(),{walletAddress:s,walletBalance:a,connectToWallet:r}=ke(),i=t??s??null,o=!t||s?.toLowerCase()===t.toLowerCase(),{avatarId:d,avatarDataURI:c,selectAvatar:u}=Wa(i),[h,m]=l.useState("collected"),[f,w]=l.useState([]),[g,x]=l.useState(!1),[p,y]=l.useState(!1),[j,b]=l.useState(!1),[k,A]=l.useState([]),[N,C]=l.useState(new Map),[R,E]=l.useState(!1);l.useEffect(()=>{if(!i)return;async function S(){x(!0);try{const G=[],D=he();for(const O of D){const X=await oe.getOwnedTokens(O.address,i);for(const le of X){const Ae=await oe.getNFTByTokenId(O.address,le);G.push(Ae)}}w(G)}catch{}finally{x(!1)}}S()},[i]),l.useEffect(()=>{if(!f.length){A([]),C(new Map);return}let S=!1;E(!0);async function G(){const D=[],O=new Map;await Promise.allSettled(f.map(async X=>{const le=await U.getListingAsync(X.collectionAddress,X.tokenId);le&&le.priceSats>0n&&(D.push(X),O.set(`${X.collectionAddress}:${X.tokenId}`,le.priceSats))})),S||(A(D),C(O),E(!1))}return G(),()=>{S=!0}},[f]);const I=l.useMemo(()=>{const S=[...f];return S.sort((G,D)=>{const O=N.has(`${G.collectionAddress}:${G.tokenId}`)?1:0;return(N.has(`${D.collectionAddress}:${D.tokenId}`)?1:0)-O}),S},[f,N]),H=l.useCallback(S=>{n(`/collection/${S.collectionAddress}/${S.tokenId.toString()}`)},[n]);function ne(){r(Ce.OP_WALLET)}function q(){i&&(navigator.clipboard.writeText(i),b(!0),setTimeout(()=>b(!1),2e3))}if(!i)return e.jsx("div",{className:"profile-page not-connected",children:e.jsx(xe,{icon:e.jsx(ka,{}),heading:"Connect Your Wallet",description:"View your NFTs, track activity, and manage your collection. Connect your OP_WALLET to get started.",actionLabel:"Connect OP_WALLET",onAction:ne})});const W=o&&a?P.satsToBTC(BigInt(a.total)):null;return e.jsxs("div",{className:"profile-page connected",children:[e.jsx("section",{className:"profile-banner",children:e.jsx("div",{className:"profile-banner-gradient"})}),e.jsxs("section",{className:"profile-identity",children:[o?e.jsxs("button",{className:"profile-pfp-wrapper",onClick:()=>y(!0),title:"Change avatar",children:[e.jsx("img",{src:c,alt:"Profile avatar",className:"profile-pfp"}),e.jsx("span",{className:"profile-pfp-edit",children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z"})})})]}):e.jsx("div",{className:"profile-pfp-wrapper profile-pfp-static",children:e.jsx("img",{src:c,alt:"Profile avatar",className:"profile-pfp"})}),e.jsxs("div",{className:"profile-address-row",children:[e.jsx("span",{className:"profile-address-clean",title:i,children:P.formatAddress(i,8)}),e.jsx("button",{className:"profile-copy-btn",onClick:q,title:"Copy address",children:j?e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"var(--success)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("polyline",{points:"20 6 9 17 4 12"})}):e.jsxs("svg",{width:"14",height:"14",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2"}),e.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})]}),W!==null&&e.jsxs("section",{className:"profile-balance-area",children:[e.jsx("span",{className:"profile-btc-icon",children:""}),e.jsxs("span",{className:"profile-btc-value",children:[W," BTC"]})]}),e.jsxs("section",{className:"profile-stats-row",children:[e.jsxs("div",{className:"profile-stat-item",children:[e.jsx("span",{className:"profile-stat-number",children:f.length}),e.jsx("span",{className:"profile-stat-label",children:"NFTs Owned"})]}),e.jsxs("div",{className:"profile-stat-item",children:[e.jsx("span",{className:"profile-stat-number",children:new Set(f.map(S=>S.collectionAddress)).size}),e.jsx("span",{className:"profile-stat-label",children:"Collections"})]}),e.jsxs("div",{className:"profile-stat-item",children:[e.jsx("span",{className:"profile-stat-number",children:""}),e.jsx("span",{className:"profile-stat-label",children:"Total Value"})]}),e.jsxs("div",{className:"profile-stat-item",children:[e.jsx("span",{className:"profile-stat-number",children:k.length}),e.jsx("span",{className:"profile-stat-label",children:"Listed"})]})]}),e.jsx("div",{className:"profile-tabs",children:["collected","listed","activity"].map(S=>e.jsx(re,{variant:h===S?"primary":"ghost",size:"sm",onClick:()=>m(S),children:S==="collected"?"Collected":S==="listed"?"Listed":"Activity"},S))}),e.jsxs("section",{className:"profile-content",children:[h==="collected"&&(f.length===0&&!g?e.jsx(xe,{icon:e.jsx(Fe,{}),heading:"No NFTs Yet",description:o?"Start exploring collections and build your on-chain identity.":"This user has no NFTs yet.",actionLabel:o?"Explore Collections":void 0,actionHref:o?"/explore":void 0}):e.jsx(_e,{items:I,loading:g,listingPrices:N,onSelect:H})),h==="listed"&&(k.length===0&&!R?e.jsx(xe,{icon:e.jsx(Fe,{}),heading:"No Active Listings",description:"When NFTs are listed for sale, they'll appear here."}):e.jsx(_e,{items:k,loading:R,listingPrices:N,onSelect:H})),h==="activity"&&e.jsx(xe,{icon:e.jsx(Fe,{}),heading:"Transaction History Coming Soon",description:"Buy, sell, and transfer activity will be tracked here."})]}),o&&e.jsx(Oa,{open:p,onClose:()=>y(!1),currentId:d,onSelect:u})]})}function Fa(){const n=pe(),[t,s]=l.useState(""),[a,r]=l.useState(!1),[i,o]=l.useState(null),[d,c]=l.useState(null),[u,h]=l.useState(he),m=l.useCallback(async()=>{const g=t.trim();if(!g){o("Please enter a contract address.");return}r(!0),o(null),c(null);try{const x=await oe.getCollectionInfo(g),p={address:g,name:x.name,symbol:x.symbol,totalSupply:Number(x.totalSupply),publishedAt:new Date().toISOString()};fa(p),h(he()),c(`Published "${x.name}" (${x.symbol})  ${x.totalSupply.toString()} items indexed from blockchain!`),s(""),oe.clearCache()}catch(x){const p=x instanceof Error?x.message:"Failed to index collection";o(`Could not index collection: ${p}. Make sure the contract address is correct and the contract is deployed on OPNet testnet.`)}finally{r(!1)}},[t]);function f(g){ga(g),h(he())}function w(g){n(`/collection/${g}`)}return e.jsxs("div",{className:"publish-page",children:[e.jsxs("section",{className:"publish-hero",children:[e.jsx("h1",{className:"publish-title",children:"Publish Your Collection"}),e.jsx("p",{className:"publish-subtitle",children:"Enter your OP721 contract address and GremlinX will index it directly from the Bitcoin blockchain. No approval needed  if it's deployed on OPNet, it's ready to trade."})]}),e.jsxs("section",{className:"publish-form",children:[e.jsxs("div",{className:"publish-input-row",children:[e.jsx("input",{type:"text",className:"publish-input",placeholder:"Enter contract address (e.g. opt1sq...)",value:t,onChange:g=>s(g.target.value),onKeyDown:g=>{g.key==="Enter"&&m()},disabled:a}),e.jsx(re,{variant:"primary",size:"lg",onClick:()=>{m()},disabled:a||!t.trim(),children:a?"Indexing...":"Publish"})]}),i&&e.jsx("div",{className:"publish-error",children:i}),d&&e.jsx("div",{className:"publish-success",children:d})]}),e.jsxs("section",{className:"publish-list",children:[e.jsx("h2",{className:"publish-list-title",children:"Published Collections"}),u.length===0?e.jsx("div",{className:"publish-empty",children:e.jsx("p",{children:"No collections published yet. Enter a contract address above to get started!"})}):e.jsx("div",{className:"publish-grid",children:u.map(g=>e.jsxs("div",{className:"publish-card",children:[e.jsx("div",{className:"publish-card-icon",children:e.jsx("span",{className:"publish-card-symbol",children:g.symbol})}),e.jsxs("div",{className:"publish-card-body",children:[e.jsx("span",{className:"publish-card-name",children:g.name}),e.jsxs("span",{className:"publish-card-address",title:g.address,children:[g.address.slice(0,12),"...",g.address.slice(-6)]}),e.jsxs("span",{className:"publish-card-meta",children:[g.totalSupply," items  Published ",new Date(g.publishedAt).toLocaleDateString()]})]}),e.jsxs("div",{className:"publish-card-actions",children:[e.jsx(re,{variant:"primary",size:"sm",onClick:()=>w(g.address),children:"View"}),e.jsx(re,{variant:"ghost",size:"sm",onClick:()=>f(g.address),children:"Remove"})]})]},g.address))})]}),e.jsxs("section",{className:"publish-how",children:[e.jsx("h3",{children:"How Publishing Works"}),e.jsxs("div",{className:"publish-steps",children:[e.jsxs("div",{className:"publish-step",children:[e.jsx("div",{className:"publish-step-number",children:"1"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Deploy your OP721 contract"}),e.jsx("p",{children:"Deploy an OP721 NFT collection on the OPNet testnet."})]})]}),e.jsxs("div",{className:"publish-step",children:[e.jsx("div",{className:"publish-step-number",children:"2"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Paste the contract address"}),e.jsx("p",{children:"Enter the contract address above. GremlinX queries the blockchain for collection data."})]})]}),e.jsxs("div",{className:"publish-step",children:[e.jsx("div",{className:"publish-step-number",children:"3"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Browse & trade"}),e.jsx("p",{children:"Your collection is live! Anyone can view, buy, and sell NFTs from it."})]})]})]})]})]})}function Ha(){return e.jsxs("div",{className:"legal-page",children:[e.jsx("h1",{children:"Terms of Service"}),e.jsx("p",{className:"legal-updated",children:"Last updated: February 27, 2026"}),e.jsxs("section",{children:[e.jsx("h2",{children:"1. Platform Description"}),e.jsx("p",{children:'GremlinX ("the Platform") is a decentralized NFT marketplace built on OPNet, a Bitcoin Layer 1 smart contract platform. GremlinX facilitates the buying, selling, and trading of OP721 non-fungible tokens (NFTs) that exist natively on the Bitcoin blockchain. All transactions settle directly on Bitcoin  no bridges, no wrapping, no intermediaries.'})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"2. User Eligibility"}),e.jsx("p",{children:"By using GremlinX, you represent and warrant that you are at least 18 years of age (or the age of majority in your jurisdiction), that you are not located in, or a citizen or resident of, any jurisdiction subject to comprehensive sanctions (including but not limited to North Korea, Iran, Syria, Cuba, and the Crimea, Donetsk, or Luhansk regions), and that your use of the Platform does not violate any applicable law or regulation."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"3. Wallet Responsibility"}),e.jsx("p",{children:"GremlinX is a non-custodial platform. You are solely responsible for the security and management of your wallet, private keys, and seed phrases. The Platform never has access to, stores, or controls your private keys or funds. If you lose access to your wallet, GremlinX cannot recover your assets. You acknowledge that blockchain transactions are irreversible and that you bear full responsibility for all transactions initiated from your wallet."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"4. NFT Ownership & Intellectual Property"}),e.jsx("p",{children:"GremlinX facilitates the trading of NFTs but does not create, endorse, or guarantee the intellectual property rights associated with any NFT content. Purchasing an NFT grants you ownership of the on-chain token; it does not necessarily grant copyright, trademark, or other IP rights to the underlying artwork or media unless explicitly stated by the NFT creator. You agree not to list, sell, or promote NFTs that contain stolen artwork, copyrighted material used without permission, or content that violates any third-party rights."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"5. Fees & Payments"}),e.jsx("p",{children:"GremlinX may charge a marketplace fee on completed transactions. The current fee structure is displayed at the time of each transaction. All fees are collected on-chain and are non-refundable. In addition to marketplace fees, you are responsible for any Bitcoin network transaction fees (gas) required to execute on-chain operations. All payments are made in BTC. The Platform does not accept fiat currency."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"6. Prohibited Conduct"}),e.jsx("p",{children:"You agree not to:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Engage in wash trading, market manipulation, or artificial volume inflation"}),e.jsx("li",{children:"List or trade stolen NFTs or assets obtained through fraud"}),e.jsx("li",{children:"Upload, list, or promote illegal, harmful, hateful, or obscene content"}),e.jsx("li",{children:"Attempt to exploit, hack, or interfere with the Platform's smart contracts or infrastructure"}),e.jsx("li",{children:"Use the Platform for money laundering, terrorist financing, or any other illegal activity"}),e.jsx("li",{children:"Impersonate other users, collections, or entities"}),e.jsx("li",{children:"Circumvent any access restrictions or security measures"})]}),e.jsx("p",{children:"GremlinX reserves the right to delist collections, restrict access, or take other action against users who violate these terms."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"7. Limitation of Liability"}),e.jsx("p",{children:'The Platform is provided on an "as-is" and "as-available" basis without warranties of any kind, express or implied. GremlinX does not warrant that the Platform will be uninterrupted, error-free, or secure, or that any smart contract will function as intended. To the maximum extent permitted by law, GremlinX shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including but not limited to loss of funds, loss of NFTs, loss of data, or loss of profits, arising from your use of the Platform, smart contract bugs, blockchain failures, or third-party actions.'})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"8. Dispute Resolution"}),e.jsx("p",{children:"Any disputes arising from or relating to these Terms shall first be attempted to be resolved through good-faith negotiation. If negotiation fails, disputes shall be resolved through binding arbitration in accordance with the rules of an internationally recognized arbitration body. Class actions and class arbitrations are not permitted. You agree to resolve disputes on an individual basis only."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"9. Modification of Terms"}),e.jsx("p",{children:"GremlinX reserves the right to modify, update, or replace these Terms at any time. Changes will be effective upon posting to the Platform. Your continued use of GremlinX after changes are posted constitutes acceptance of the modified Terms. We encourage you to review these Terms periodically."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"10. Governing Law"}),e.jsx("p",{children:"These Terms shall be governed by and construed in accordance with the laws of the jurisdiction in which GremlinX is incorporated, without regard to conflict of law principles. You consent to the exclusive jurisdiction of the courts in that jurisdiction for any legal proceedings arising from these Terms."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"11. Contact"}),e.jsx("p",{children:"For questions about these Terms, reach out via the GremlinX community channels or open an issue on the project's repository."})]}),e.jsxs("p",{className:"legal-footer-link",children:["See also: ",e.jsx(K,{to:"/privacy",children:"Privacy Policy"})]})]})}function Ua(){return e.jsxs("div",{className:"legal-page",children:[e.jsx("h1",{children:"Privacy Policy"}),e.jsx("p",{className:"legal-updated",children:"Last updated: February 27, 2026"}),e.jsxs("section",{children:[e.jsx("h2",{children:"1. Introduction"}),e.jsx("p",{children:'GremlinX ("the Platform," "we," "us") is a decentralized NFT marketplace on Bitcoin via OPNet. We are committed to protecting your privacy. This policy explains what data we collect, how we use it, and your rights.'})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"2. Data We Collect"}),e.jsx("p",{children:"Because GremlinX is a non-custodial, wallet-based platform, we collect very little data:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Wallet addresses"}),"  Your public wallet address is visible on the blockchain and is used to display your profile and transaction history. This is inherently public blockchain data."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Transaction history"}),"  All NFT purchases, sales, and listings are recorded on the Bitcoin blockchain and are publicly visible. We index this data to display marketplace activity."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Local preferences"}),"  Avatar selection, TOS acceptance status, and UI preferences are stored in your browser's localStorage. This data never leaves your device."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Analytics (if enabled)"}),"  We may use privacy-respecting analytics to understand usage patterns (page views, feature usage). This data is aggregated and anonymized."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"3. Data We Do NOT Collect"}),e.jsx("p",{children:"GremlinX does not and will not:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"Require or store personal information (name, email, phone number)"}),e.jsx("li",{children:"Perform KYC (Know Your Customer) verification"}),e.jsx("li",{children:"Store private keys, seed phrases, or wallet passwords"}),e.jsx("li",{children:"Track your activity across other websites"}),e.jsx("li",{children:"Sell, rent, or share your data with third parties for advertising"})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"4. Cookies & Local Storage"}),e.jsx("p",{children:"GremlinX uses browser localStorage to persist your preferences (avatar choice, TOS acceptance). We do not use tracking cookies. If analytics are enabled, they may use first-party cookies strictly for aggregated usage statistics. You can clear all stored data at any time through your browser's settings."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"5. Third-Party Services"}),e.jsx("p",{children:"GremlinX may interact with the following third-party services:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"OPNet RPC nodes"}),"  To fetch blockchain data (collection info, token ownership, transaction status)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"IPFS gateways"}),"  To resolve NFT metadata and images stored on the InterPlanetary File System."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"OP_WALLET browser extension"}),"  For wallet connection, transaction signing, and balance queries. The wallet extension operates independently under its own privacy policy."]})]}),e.jsx("p",{children:"We do not control these third-party services and recommend reviewing their respective privacy policies."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"6. Your Rights"}),e.jsx("p",{children:"Even though GremlinX collects minimal data, we respect your data rights in the spirit of GDPR and similar frameworks:"}),e.jsxs("ul",{children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Access"}),"  You can view all data associated with your wallet address directly on the blockchain and in your browser's localStorage."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Deletion"}),"  Clear your browser's localStorage to remove all locally stored preferences. On-chain data (transactions, token ownership) is immutable by nature of blockchain technology."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Portability"}),"  Your NFTs and transaction history are on a public blockchain and can be accessed by any compatible tool or service."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Right to Opt Out"}),"  You may disconnect your wallet at any time to stop interacting with the Platform."]})]})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"7. Data Security"}),e.jsx("p",{children:"GremlinX is a client-side application. Your wallet interactions happen directly between your browser and the blockchain. We do not operate centralized servers that store user data. The Platform's security relies on the Bitcoin blockchain's cryptographic guarantees and the security of your wallet extension."})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"8. Changes to This Policy"}),e.jsx("p",{children:'We may update this Privacy Policy from time to time. Changes will be posted on this page with an updated "Last updated" date. Your continued use of GremlinX after changes constitutes acceptance.'})]}),e.jsxs("section",{children:[e.jsx("h2",{children:"9. Contact"}),e.jsx("p",{children:"For privacy-related questions or concerns, reach out via the GremlinX community channels or open an issue on the project's repository."})]}),e.jsxs("p",{className:"legal-footer-link",children:["See also: ",e.jsx(K,{to:"/terms",children:"Terms of Service"})]})]})}function Ga(){return e.jsx(Js,{children:e.jsx(Ts,{children:e.jsxs(Y,{element:e.jsx(pa,{}),children:[e.jsx(Y,{index:!0,element:e.jsx(Ze,{})}),e.jsx(Y,{path:"explore",element:e.jsx(Ze,{})}),e.jsx(Y,{path:"publish",element:e.jsx(Fa,{})}),e.jsx(Y,{path:"collection/:address",element:e.jsx(Ma,{})}),e.jsx(Y,{path:"collection/:address/:tokenId",element:e.jsx(Ia,{})}),e.jsx(Y,{path:"profile",element:e.jsx(kt,{})}),e.jsx(Y,{path:"profile/:address",element:e.jsx(kt,{})}),e.jsx(Y,{path:"terms",element:e.jsx(Ha,{})}),e.jsx(Y,{path:"privacy",element:e.jsx(Ua,{})}),e.jsx(Y,{path:"*",element:e.jsx(Ze,{})})]})})})}const Zt=document.getElementById("root");if(!Zt)throw new Error("Root element not found");an.createRoot(Zt).render(e.jsx(l.StrictMode,{children:e.jsx(kn,{theme:"dark",children:e.jsx(Tn,{children:e.jsx(Ga,{})})})}));
