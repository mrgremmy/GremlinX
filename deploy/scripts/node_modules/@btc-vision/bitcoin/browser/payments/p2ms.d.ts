import { Network } from '../networks.js';
import { PublicKey, Script, Signature } from '../types.js';
import { P2MSPayment, PaymentOpts } from './types.js';
/**
 * Pay-to-Multisig (P2MS) payment class.
 *
 * Creates locking scripts of the form:
 * `m {pubKey1} {pubKey2} ... {pubKeyN} n OP_CHECKMULTISIG`
 *
 * Spending requires: `OP_0 {sig1} {sig2} ... {sigM}`
 *
 * @example
 * ```typescript
 * import { P2MS } from '@btc-vision/bitcoin';
 *
 * // Create a 2-of-3 multisig
 * const payment = P2MS.fromPubkeys(2, [pubkey1, pubkey2, pubkey3]);
 * console.log(payment.output); // scriptPubKey
 * console.log(payment.m); // 2
 * console.log(payment.n); // 3
 *
 * // Decode an existing output
 * const decoded = P2MS.fromOutput(scriptPubKey);
 * console.log(decoded.pubkeys); // array of public keys
 * ```
 */
export declare class P2MS {
    #private;
    static readonly NAME: "p2ms";
    /**
     * Creates a new P2MS payment instance.
     *
     * @param params - Payment parameters
     * @param params.m - Required number of signatures
     * @param params.n - Total number of public keys (optional, derived from pubkeys)
     * @param params.pubkeys - Array of public keys
     * @param params.signatures - Array of signatures
     * @param params.output - The scriptPubKey
     * @param params.input - The scriptSig
     * @param params.network - Network parameters (defaults to mainnet)
     * @param opts - Payment options
     * @param opts.validate - Whether to validate inputs (default: true)
     * @param opts.allowIncomplete - Allow incomplete signatures (default: false)
     *
     * @throws {TypeError} If validation is enabled and data is invalid
     */
    constructor(params: {
        m?: number | undefined;
        n?: number | undefined;
        pubkeys?: Uint8Array[] | undefined;
        signatures?: Uint8Array[] | undefined;
        output?: Uint8Array | undefined;
        input?: Uint8Array | undefined;
        network?: Network | undefined;
    }, opts?: PaymentOpts);
    /**
     * Payment type discriminant.
     */
    get name(): string;
    /**
     * Network parameters.
     */
    get network(): Network;
    /**
     * Required number of signatures (M in M-of-N).
     */
    get m(): number | undefined;
    /**
     * Total number of public keys (N in M-of-N).
     */
    get n(): number | undefined;
    /**
     * Array of public keys.
     */
    get pubkeys(): PublicKey[] | undefined;
    /**
     * Array of signatures.
     */
    get signatures(): Signature[] | undefined;
    /**
     * The scriptPubKey: `m {pubkeys} n OP_CHECKMULTISIG`
     */
    get output(): Script | undefined;
    /**
     * The scriptSig: `OP_0 {signatures}`
     */
    get input(): Script | undefined;
    /**
     * Witness stack (empty for P2MS as it's not a SegWit type).
     */
    get witness(): Uint8Array[] | undefined;
    /**
     * Creates a P2MS payment from public keys.
     *
     * @param m - Required number of signatures
     * @param pubkeys - Array of public keys
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2MS payment instance
     *
     * @example
     * ```typescript
     * // Create a 2-of-3 multisig
     * const payment = P2MS.fromPubkeys(2, [pubkey1, pubkey2, pubkey3]);
     * ```
     */
    static fromPubkeys(m: number, pubkeys: PublicKey[], network?: Network): P2MS;
    /**
     * Creates a P2MS payment from a scriptPubKey.
     *
     * @param output - The scriptPubKey
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2MS payment instance
     */
    static fromOutput(output: Uint8Array, network?: Network): P2MS;
    /**
     * Creates a P2MS payment from signatures (for spending).
     *
     * @param signatures - Array of signatures
     * @param m - Required number of signatures (optional)
     * @param pubkeys - Array of public keys (optional, for validation)
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2MS payment instance
     */
    static fromSignatures(signatures: Signature[], m?: number, pubkeys?: PublicKey[], network?: Network): P2MS;
    /**
     * Converts to a plain P2MSPayment object for backwards compatibility.
     *
     * @returns A P2MSPayment object
     */
    toPayment(): P2MSPayment;
}
/**
 * Creates a Pay-to-Multisig (P2MS) payment object.
 *
 * This is the legacy factory function for backwards compatibility.
 * For new code, prefer using the P2MS class directly.
 *
 * @param a - The payment object containing the necessary data
 * @param opts - Optional payment options
 * @returns The P2MS payment object
 * @throws {TypeError} If the required data is not provided or if the data is invalid
 *
 * @example
 * ```typescript
 * import { p2ms } from '@btc-vision/bitcoin';
 *
 * // Create a 2-of-3 multisig
 * const payment = p2ms({ m: 2, pubkeys: [pubkey1, pubkey2, pubkey3] });
 * ```
 */
export declare function p2ms(a: Omit<P2MSPayment, 'name'>, opts?: PaymentOpts): P2MSPayment;
//# sourceMappingURL=p2ms.d.ts.map