/**
 * Pay-to-Script-Hash (P2SH) payment class.
 *
 * P2SH allows spending to be based on a hash of a script, with the actual
 * script revealed only at spend time. This enables complex spending conditions
 * while keeping addresses short.
 *
 * @packageDocumentation
 */
import { type Network } from '../networks.js';
import { type Bytes20, type Script } from '../types.js';
import { type P2SHPayment, type PaymentOpts, type ScriptRedeem } from './types.js';
/**
 * Pay-to-Script-Hash (P2SH) payment class.
 *
 * Creates locking scripts of the form:
 * `OP_HASH160 {hash160(redeemScript)} OP_EQUAL`
 *
 * Spending requires: `{redeemScriptSig...} {redeemScript}`
 *
 * @example
 * ```typescript
 * import { P2SH, P2MS } from '@btc-vision/bitcoin';
 *
 * // Wrap a multisig in P2SH
 * const multisig = P2MS.fromPubkeys(2, [pubkey1, pubkey2, pubkey3]);
 * const p2sh = P2SH.fromRedeem({ output: multisig.output });
 * console.log(p2sh.address); // 3... address
 *
 * // Decode an existing output
 * const decoded = P2SH.fromOutput(scriptPubKey);
 * console.log(decoded.hash); // 20-byte script hash
 * ```
 */
export declare class P2SH {
    #private;
    static readonly NAME: "p2sh";
    /**
     * Creates a new P2SH payment instance.
     *
     * @param params - Payment parameters
     * @param params.address - Base58Check encoded address (3...)
     * @param params.hash - 20-byte script hash
     * @param params.output - The scriptPubKey
     * @param params.input - The scriptSig
     * @param params.redeem - The redeem script information
     * @param params.witness - The witness stack (for wrapped SegWit)
     * @param params.network - Network parameters (defaults to mainnet)
     * @param opts - Payment options
     * @param opts.validate - Whether to validate inputs (default: true)
     *
     * @throws {TypeError} If validation is enabled and data is invalid
     */
    constructor(params: {
        address?: string | undefined;
        hash?: Uint8Array | undefined;
        output?: Uint8Array | undefined;
        input?: Uint8Array | undefined;
        redeem?: ScriptRedeem | undefined;
        witness?: Uint8Array[] | undefined;
        network?: Network | undefined;
    }, opts?: PaymentOpts);
    /**
     * Payment type discriminant.
     */
    get name(): string;
    /**
     * Network parameters.
     */
    get network(): Network;
    /**
     * Base58Check encoded address (3... for mainnet).
     */
    get address(): string | undefined;
    /**
     * 20-byte script hash (HASH160 of redeem script).
     */
    get hash(): Bytes20 | undefined;
    /**
     * The scriptPubKey: `OP_HASH160 {hash} OP_EQUAL`
     */
    get output(): Script | undefined;
    /**
     * The scriptSig: `{redeemScriptSig...} {redeemScript}`
     */
    get input(): Script | undefined;
    /**
     * The redeem script information.
     */
    get redeem(): ScriptRedeem | undefined;
    /**
     * The witness stack (for wrapped SegWit).
     */
    get witness(): Uint8Array[] | undefined;
    /**
     * Creates a P2SH payment from a redeem script.
     *
     * @param redeem - The redeem script information
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2SH payment instance
     *
     * @example
     * ```typescript
     * const p2sh = P2SH.fromRedeem({ output: redeemScript });
     * ```
     */
    static fromRedeem(redeem: ScriptRedeem, network?: Network): P2SH;
    /**
     * Creates a P2SH payment from a Base58Check address.
     *
     * @param address - Base58Check encoded address
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2SH payment instance
     */
    static fromAddress(address: string, network?: Network): P2SH;
    /**
     * Creates a P2SH payment from a 20-byte script hash.
     *
     * @param hash - 20-byte script hash
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2SH payment instance
     */
    static fromHash(hash: Bytes20, network?: Network): P2SH;
    /**
     * Creates a P2SH payment from a scriptPubKey.
     *
     * @param output - The scriptPubKey
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2SH payment instance
     */
    static fromOutput(output: Uint8Array, network?: Network): P2SH;
    /**
     * Converts to a plain P2SHPayment object for backwards compatibility.
     *
     * @returns A P2SHPayment object
     */
    toPayment(): P2SHPayment;
}
/**
 * Creates a Pay-to-Script-Hash (P2SH) payment object.
 *
 * This is the legacy factory function for backwards compatibility.
 * For new code, prefer using the P2SH class directly.
 *
 * @param a - The payment object containing the necessary data
 * @param opts - Optional payment options
 * @returns The P2SH payment object
 * @throws {TypeError} If the required data is not provided or if the data is invalid
 *
 * @example
 * ```typescript
 * import { p2sh, p2ms } from '@btc-vision/bitcoin';
 *
 * // Wrap a multisig in P2SH
 * const multisig = p2ms({ m: 2, pubkeys: [pk1, pk2, pk3] });
 * const payment = p2sh({ redeem: multisig });
 * ```
 */
export declare function p2sh(a: Omit<P2SHPayment, 'name'>, opts?: PaymentOpts): P2SHPayment;
//# sourceMappingURL=p2sh.d.ts.map