/**
 * Worklet-based parallel signing pool for React Native.
 *
 * Uses `react-native-worklets` (Software Mansion v0.7+) to run signing
 * operations in parallel across multiple worklet runtimes.
 * Each runtime gets its own ECC module instance via eval of the bundled
 * @noble/secp256k1 IIFE string.
 *
 * SECURITY ARCHITECTURE:
 * - Private keys are cloned per-runtime (structuredClone semantics)
 * - Keys are zeroed inside worklet AND in main thread finally block
 * - Tainted runtimes (timeout) are replaced, not reused
 *
 * @packageDocumentation
 */
import type { ParallelSignerKeyPair, ParallelSigningResult, SigningTask, WorkerPoolConfig } from './types.js';
/**
 * Worklet-based parallel signing pool for React Native.
 *
 * Mirrors the API of WorkerSigningPool (browser) but uses
 * `react-native-worklets` runtimes instead of Web Workers.
 * `runOnRuntime()` returns a Promise directly — no postMessage protocol.
 *
 * @example
 * ```typescript
 * import { WorkletSigningPool } from '@btc-vision/bitcoin/workers';
 *
 * const pool = WorkletSigningPool.getInstance();
 * pool.preserveWorkers();
 *
 * const result = await pool.signBatch(tasks, keyPair);
 * await pool.shutdown();
 * ```
 */
export declare class WorkletSigningPool {
    #private;
    private constructor();
    /** Number of active runtimes. */
    get workerCount(): number;
    /** Idle runtimes (all non-tainted). */
    get idleWorkerCount(): number;
    /** Busy runtimes — always 0 outside of signBatch. */
    get busyWorkerCount(): number;
    /** Whether runtimes are preserved between batches. */
    get isPreservingWorkers(): boolean;
    /**
     * Gets the singleton pool instance.
     *
     * @param config - Optional configuration (only used on first call)
     */
    static getInstance(config?: WorkerPoolConfig): WorkletSigningPool;
    /** Resets the singleton instance (for testing). */
    static resetInstance(): void;
    /** Enable runtime preservation between signing batches. */
    preserveWorkers(): void;
    /** Disable runtime preservation. */
    releaseWorkers(): void;
    /**
     * Initializes the worklet pool.
     *
     * Dynamically imports `react-native-worklets`, creates N runtimes,
     * and injects the ECC bundle into each via eval.
     *
     * @throws If `react-native-worklets` is not installed or eval fails
     */
    initialize(): Promise<void>;
    /**
     * Signs a batch of tasks in parallel across worklet runtimes.
     *
     * SECURITY: Private keys are cloned per-runtime and zeroed both
     * inside the worklet and in the main thread finally block.
     */
    signBatch(tasks: readonly SigningTask[], keyPair: ParallelSignerKeyPair): Promise<ParallelSigningResult>;
    /** Shuts down all runtimes. */
    shutdown(): Promise<void>;
    [Symbol.dispose](): void;
    [Symbol.asyncDispose](): Promise<void>;
}
//# sourceMappingURL=WorkerSigningPool.worklet.d.ts.map