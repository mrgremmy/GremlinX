import { Network } from '../networks.js';
import { Bytes32, SchnorrSignature, Script, Taptree, XOnlyPublicKey } from '../types.js';
import { P2TRPayment, PaymentOpts, PaymentType, ScriptRedeem } from './types.js';
/**
 * Pay-to-Taproot (P2TR) payment class.
 *
 * Creates locking scripts of the form: `OP_1 {x-only pubkey}`
 *
 * Key-path spending witness: `[signature]`
 * Script-path spending witness: `[script inputs..., script, control block]`
 *
 * @example
 * ```typescript
 * import { P2TR } from '@btc-vision/bitcoin';
 *
 * // Key-path only (no scripts)
 * const keyOnly = P2TR.fromInternalPubkey(internalPubkey);
 * console.log(keyOnly.address); // bc1p... address
 *
 * // With script tree
 * const withScripts = P2TR.fromInternalPubkey(internalPubkey, scriptTree);
 *
 * // Decode an existing output
 * const decoded = P2TR.fromOutput(scriptPubKey);
 * console.log(decoded.pubkey); // 32-byte x-only pubkey
 * ```
 */
export declare class P2TR {
    #private;
    static readonly NAME: "p2tr";
    /**
     * Creates a new P2TR payment instance.
     *
     * @param params - Payment parameters
     * @param params.address - Bech32m encoded address (bc1p...)
     * @param params.pubkey - x-only output pubkey (32 bytes)
     * @param params.internalPubkey - x-only internal pubkey (32 bytes)
     * @param params.hash - Merkle root (32 bytes, or empty for key-path only)
     * @param params.scriptTree - Full script tree definition
     * @param params.signature - Schnorr signature (for key-path spending)
     * @param params.output - The scriptPubKey
     * @param params.witness - The witness stack
     * @param params.redeem - Redeem script for script-path spending
     * @param params.redeemVersion - Leaf version (defaults to LEAF_VERSION_TAPSCRIPT)
     * @param params.network - Network parameters (defaults to mainnet)
     * @param opts - Payment options
     * @param opts.validate - Whether to validate inputs (default: true)
     *
     * @throws {TypeError} If validation is enabled and data is invalid
     */
    constructor(params: {
        address?: string | undefined;
        pubkey?: Uint8Array | undefined;
        internalPubkey?: Uint8Array | undefined;
        hash?: Uint8Array | undefined;
        scriptTree?: Taptree | undefined;
        signature?: Uint8Array | undefined;
        output?: Uint8Array | undefined;
        witness?: Uint8Array[] | undefined;
        redeem?: ScriptRedeem | undefined;
        redeemVersion?: number | undefined;
        network?: Network | undefined;
    }, opts?: PaymentOpts);
    /**
     * Payment type discriminant.
     */
    get name(): typeof PaymentType.P2TR;
    /**
     * Network parameters.
     */
    get network(): Network;
    /**
     * Bech32m encoded address (bc1p... for mainnet).
     */
    get address(): string | undefined;
    /**
     * x-only output pubkey (32 bytes).
     * This is the tweaked pubkey that appears in the output.
     */
    get pubkey(): XOnlyPublicKey | undefined;
    /**
     * x-only internal pubkey (32 bytes).
     * This is the untweaked pubkey before adding the merkle root tweak.
     */
    get internalPubkey(): XOnlyPublicKey | undefined;
    /**
     * Merkle root hash (32 bytes).
     * Present when a script tree is defined.
     */
    get hash(): Bytes32 | undefined;
    /**
     * Schnorr signature (for key-path spending).
     */
    get signature(): SchnorrSignature | undefined;
    /**
     * The scriptPubKey: `OP_1 {32-byte x-only pubkey}`
     */
    get output(): Script | undefined;
    /**
     * Redeem script information (for script-path spending).
     */
    get redeem(): ScriptRedeem | undefined;
    /**
     * Leaf version (defaults to LEAF_VERSION_TAPSCRIPT = 0xc0).
     */
    get redeemVersion(): number;
    /**
     * Witness stack.
     * Key-path: `[signature]`
     * Script-path: `[script inputs..., script, control block]`
     */
    get witness(): Uint8Array[] | undefined;
    /**
     * Creates a P2TR payment from an internal pubkey (key-path only).
     *
     * @param internalPubkey - x-only internal pubkey (32 bytes)
     * @param scriptTree - Optional script tree
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2TR payment instance
     *
     * @example
     * ```typescript
     * // Key-path only
     * const p2tr = P2TR.fromInternalPubkey(internalPubkey);
     *
     * // With script tree
     * const withScripts = P2TR.fromInternalPubkey(internalPubkey, scriptTree);
     * ```
     */
    static fromInternalPubkey(internalPubkey: XOnlyPublicKey, scriptTree?: Taptree, network?: Network): P2TR;
    /**
     * Creates a P2TR payment from a bech32m address.
     *
     * @param address - Bech32m encoded address (bc1p...)
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2TR payment instance
     */
    static fromAddress(address: string, network?: Network): P2TR;
    /**
     * Creates a P2TR payment from a scriptPubKey.
     *
     * @param output - The scriptPubKey
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2TR payment instance
     */
    static fromOutput(output: Uint8Array, network?: Network): P2TR;
    /**
     * Creates a P2TR payment from a signature (for key-path spending).
     *
     * @param signature - Schnorr signature
     * @param internalPubkey - x-only internal pubkey
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2TR payment instance
     */
    static fromSignature(signature: SchnorrSignature, internalPubkey?: XOnlyPublicKey, network?: Network): P2TR;
    /**
     * Converts to a plain P2TRPayment object for backwards compatibility.
     *
     * @returns A P2TRPayment object
     */
    toPayment(): P2TRPayment;
}
/**
 * Creates a Pay-to-Taproot (P2TR) payment object.
 *
 * This is the legacy factory function for backwards compatibility.
 * For new code, prefer using the P2TR class directly.
 *
 * @param a - The payment object containing the necessary data
 * @param opts - Optional payment options
 * @returns The P2TR payment object
 * @throws {TypeError} If the required data is not provided or if the data is invalid
 *
 * @example
 * ```typescript
 * import { p2tr } from '@btc-vision/bitcoin';
 *
 * // Key-path only
 * const payment = p2tr({ internalPubkey });
 *
 * // With script tree
 * const withScripts = p2tr({ internalPubkey, scriptTree });
 * ```
 */
export declare function p2tr(a: Omit<P2TRPayment, 'name'>, opts?: PaymentOpts): P2TRPayment;
//# sourceMappingURL=p2tr.d.ts.map