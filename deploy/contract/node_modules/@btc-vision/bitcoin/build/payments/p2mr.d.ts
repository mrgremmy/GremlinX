/**
 * Pay-to-Merkle-Root (P2MR) payment class.
 *
 * P2MR is a SegWit version 2 output type (BIP 360). It commits directly to
 * the Merkle root of a script tree, removing the quantum-vulnerable key-path
 * spend found in P2TR. There is no internal pubkey or tweaking.
 *
 * @packageDocumentation
 */
import { type Network } from '../networks.js';
import { type Bytes32, type Script, type Taptree } from '../types.js';
import { type P2MRPayment, type PaymentOpts, PaymentType, type ScriptRedeem } from './types.js';
/**
 * Pay-to-Merkle-Root (P2MR) payment class.
 *
 * Creates locking scripts of the form: `OP_2 {32-byte merkle root}`
 *
 * Script-path spending witness: `[script inputs..., script, control block]`
 *
 * @example
 * ```typescript
 * import { P2MR } from '@btc-vision/bitcoin';
 *
 * // From script tree
 * const p2mr = P2MR.fromScriptTree(scriptTree);
 * console.log(p2mr.address); // bc1z... address
 *
 * // From merkle root hash
 * const fromHash = P2MR.fromHash(merkleRoot);
 *
 * // Decode an existing output
 * const decoded = P2MR.fromOutput(scriptPubKey);
 * console.log(decoded.hash); // 32-byte merkle root
 * ```
 */
export declare class P2MR {
    #private;
    static readonly NAME: "p2mr";
    /**
     * Creates a new P2MR payment instance.
     *
     * @param params - Payment parameters
     * @param params.address - Bech32m encoded address (bc1z...)
     * @param params.hash - Merkle root (32 bytes, = witness program)
     * @param params.scriptTree - Full script tree definition
     * @param params.output - The scriptPubKey
     * @param params.witness - The witness stack
     * @param params.redeem - Redeem script for script-path spending
     * @param params.redeemVersion - Leaf version (defaults to LEAF_VERSION_TAPSCRIPT)
     * @param params.network - Network parameters (defaults to mainnet)
     * @param opts - Payment options
     * @param opts.validate - Whether to validate inputs (default: true)
     *
     * @throws {TypeError} If validation is enabled and data is invalid
     */
    constructor(params: {
        address?: string | undefined;
        hash?: Uint8Array | undefined;
        scriptTree?: Taptree | undefined;
        output?: Uint8Array | undefined;
        witness?: Uint8Array[] | undefined;
        redeem?: ScriptRedeem | undefined;
        redeemVersion?: number | undefined;
        network?: Network | undefined;
    }, opts?: PaymentOpts);
    /**
     * Payment type discriminant.
     *
     * @returns The P2MR payment type constant.
     */
    get name(): typeof PaymentType.P2MR;
    /**
     * Network parameters used for address encoding.
     *
     * @returns The network configuration (mainnet, testnet, or regtest).
     */
    get network(): Network;
    /**
     * Bech32m encoded address (bc1z... for mainnet).
     *
     * @returns The bech32m-encoded address, or `undefined` if insufficient data.
     */
    get address(): string | undefined;
    /**
     * Merkle root hash (32 bytes). This is the witness program and directly
     * appears in the output script.
     *
     * @returns The 32-byte merkle root, or `undefined` if insufficient data.
     */
    get hash(): Bytes32 | undefined;
    /**
     * The scriptPubKey: `OP_2 <32-byte merkle root>` (34 bytes total).
     *
     * @returns The output script, or `undefined` if insufficient data.
     */
    get output(): Script | undefined;
    /**
     * Redeem script information for script-path spending.
     *
     * @returns The redeem script data, or `undefined` if not available.
     */
    get redeem(): ScriptRedeem | undefined;
    /**
     * Leaf version used for script-path hashing.
     *
     * @returns The leaf version byte (defaults to LEAF_VERSION_TAPSCRIPT = 0xc0).
     */
    get redeemVersion(): number;
    /**
     * Witness stack for script-path spending.
     * Format: `[script inputs..., script, control block]`
     *
     * @returns The witness stack array, or `undefined` if insufficient data.
     */
    get witness(): Uint8Array[] | undefined;
    /**
     * Creates a P2MR payment from a script tree.
     *
     * @param scriptTree - The script tree
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2MR payment instance
     */
    static fromScriptTree(scriptTree: Taptree, network?: Network): P2MR;
    /**
     * Creates a P2MR payment from a bech32m address.
     *
     * @param address - Bech32m encoded address (bc1z...)
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2MR payment instance
     */
    static fromAddress(address: string, network?: Network): P2MR;
    /**
     * Creates a P2MR payment from a scriptPubKey.
     *
     * @param output - The scriptPubKey
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2MR payment instance
     */
    static fromOutput(output: Uint8Array, network?: Network): P2MR;
    /**
     * Creates a P2MR payment from a merkle root hash.
     *
     * @param hash - The 32-byte merkle root
     * @param network - Network parameters (defaults to mainnet)
     * @returns A new P2MR payment instance
     */
    static fromHash(hash: Bytes32, network?: Network): P2MR;
    /**
     * Converts to a plain P2MRPayment object for backwards compatibility.
     *
     * @returns A P2MRPayment object
     */
    toPayment(): P2MRPayment;
}
/**
 * Creates a Pay-to-Merkle-Root (P2MR) payment object.
 *
 * This is the legacy factory function for backwards compatibility.
 * For new code, prefer using the P2MR class directly.
 *
 * @param a - The payment object containing the necessary data
 * @param opts - Optional payment options
 * @returns The P2MR payment object
 * @throws {TypeError} If the required data is not provided or if the data is invalid
 *
 * @example
 * ```typescript
 * import { p2mr } from '@btc-vision/bitcoin';
 *
 * // From script tree
 * const payment = p2mr({ scriptTree });
 *
 * // From merkle root hash
 * const fromHash = p2mr({ hash: merkleRoot });
 * ```
 */
export declare function p2mr(a: Omit<P2MRPayment, 'name'>, opts?: PaymentOpts): P2MRPayment;
//# sourceMappingURL=p2mr.d.ts.map