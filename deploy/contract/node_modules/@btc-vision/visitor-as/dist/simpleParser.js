import { Parser, Source, Tokenizer, } from "@btc-vision/assemblyscript/dist/assemblyscript.js";
export class SimpleParser {
    static get parser() {
        return new Parser();
    }
    static parseExpression(s) {
        const res = this.parser.parseExpression(this.getTokenizer(s));
        if (res == null) {
            throw new Error("Failed to parse the expression: '" + s + "'");
        }
        return res;
    }
    static parseStatement(s, topLevel = false) {
        const res = this.parser.parseStatement(this.getTokenizer(s), topLevel);
        if (res == null) {
            throw new Error("Failed to parse the statement: '" + s + "'");
        }
        return res;
    }
    static parseTopLevelStatement(s, namespace) {
        const res = this.parser.parseTopLevelStatement(this.getTokenizer(s), namespace);
        if (res == null) {
            throw new Error("Failed to parse the top level statement: '" + s + "'");
        }
        return res;
    }
    static parseClassMember(s, _class) {
        let res = this.parser.parseClassMember(this.getTokenizer(s, _class.range.source.normalizedPath), _class);
        if (res == null) {
            throw new Error("Failed to parse the class member: '" + s + "'");
        }
        return res;
    }
    static getTokenizer(s, file = "index.ts") {
        return new Tokenizer(new Source(0 /* SourceKind.User */, file, s));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2ltcGxlUGFyc2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL3NpbXBsZVBhcnNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBS0gsTUFBTSxFQUNOLE1BQU0sRUFHTixTQUFTLEdBQ1osTUFBTSxtREFBbUQsQ0FBQztBQUUzRCxNQUFNLE9BQU8sWUFBWTtJQUNiLE1BQU0sS0FBSyxNQUFNO1FBQ3JCLE9BQU8sSUFBSSxNQUFNLEVBQUUsQ0FBQztJQUN4QixDQUFDO0lBRUQsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFTO1FBQzVCLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUM5RCxJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsbUNBQW1DLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQ25FLENBQUM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxNQUFNLENBQUMsY0FBYyxDQUFDLENBQVMsRUFBRSxRQUFRLEdBQUcsS0FBSztRQUM3QyxNQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZFLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQyxrQ0FBa0MsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDbEUsQ0FBQztRQUNELE9BQU8sR0FBRyxDQUFDO0lBQ2YsQ0FBQztJQUVELE1BQU0sQ0FBQyxzQkFBc0IsQ0FDekIsQ0FBUyxFQUNULFNBQXVDO1FBRXZDLE1BQU0sR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsc0JBQXNCLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQztRQUNoRixJQUFJLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztZQUNkLE1BQU0sSUFBSSxLQUFLLENBQUMsNENBQTRDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDO1FBQzVFLENBQUM7UUFDRCxPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBUyxFQUFFLE1BQXdCO1FBQ3ZELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsZ0JBQWdCLENBQ2xDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLGNBQWMsQ0FBQyxFQUN4RCxNQUFNLENBQ1QsQ0FBQztRQUNGLElBQUksR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1lBQ2QsTUFBTSxJQUFJLEtBQUssQ0FBQyxxQ0FBcUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDckUsQ0FBQztRQUNELE9BQTZCLEdBQUcsQ0FBQztJQUNyQyxDQUFDO0lBRU8sTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFTLEVBQUUsT0FBZSxVQUFVO1FBQzVELE9BQU8sSUFBSSxTQUFTLENBQUMsSUFBSSxNQUFNLDBCQUFrQixJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMvRCxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xyXG4gICAgQ2xhc3NEZWNsYXJhdGlvbixcclxuICAgIERlY2xhcmF0aW9uU3RhdGVtZW50LFxyXG4gICAgRXhwcmVzc2lvbixcclxuICAgIE5hbWVzcGFjZURlY2xhcmF0aW9uLFxyXG4gICAgUGFyc2VyLFxyXG4gICAgU291cmNlLFxyXG4gICAgU291cmNlS2luZCxcclxuICAgIFN0YXRlbWVudCxcclxuICAgIFRva2VuaXplcixcclxufSBmcm9tIFwiQGJ0Yy12aXNpb24vYXNzZW1ibHlzY3JpcHQvZGlzdC9hc3NlbWJseXNjcmlwdC5qc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNpbXBsZVBhcnNlciB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXQgcGFyc2VyKCk6IFBhcnNlciB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJzZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGFyc2VFeHByZXNzaW9uKHM6IHN0cmluZyk6IEV4cHJlc3Npb24ge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IHRoaXMucGFyc2VyLnBhcnNlRXhwcmVzc2lvbih0aGlzLmdldFRva2VuaXplcihzKSk7XHJcbiAgICAgICAgaWYgKHJlcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSB0aGUgZXhwcmVzc2lvbjogJ1wiICsgcyArIFwiJ1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGFyc2VTdGF0ZW1lbnQoczogc3RyaW5nLCB0b3BMZXZlbCA9IGZhbHNlKTogU3RhdGVtZW50IHtcclxuICAgICAgICBjb25zdCByZXMgPSB0aGlzLnBhcnNlci5wYXJzZVN0YXRlbWVudCh0aGlzLmdldFRva2VuaXplcihzKSwgdG9wTGV2ZWwpO1xyXG4gICAgICAgIGlmIChyZXMgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2UgdGhlIHN0YXRlbWVudDogJ1wiICsgcyArIFwiJ1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGFyc2VUb3BMZXZlbFN0YXRlbWVudChcclxuICAgICAgICBzOiBzdHJpbmcsXHJcbiAgICAgICAgbmFtZXNwYWNlPzogTmFtZXNwYWNlRGVjbGFyYXRpb24gfCBudWxsXHJcbiAgICApOiBTdGF0ZW1lbnQge1xyXG4gICAgICAgIGNvbnN0IHJlcyA9IHRoaXMucGFyc2VyLnBhcnNlVG9wTGV2ZWxTdGF0ZW1lbnQodGhpcy5nZXRUb2tlbml6ZXIocyksIG5hbWVzcGFjZSk7XHJcbiAgICAgICAgaWYgKHJlcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSB0aGUgdG9wIGxldmVsIHN0YXRlbWVudDogJ1wiICsgcyArIFwiJ1wiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlcztcclxuICAgIH1cclxuXHJcbiAgICBzdGF0aWMgcGFyc2VDbGFzc01lbWJlcihzOiBzdHJpbmcsIF9jbGFzczogQ2xhc3NEZWNsYXJhdGlvbik6IERlY2xhcmF0aW9uU3RhdGVtZW50IHtcclxuICAgICAgICBsZXQgcmVzID0gdGhpcy5wYXJzZXIucGFyc2VDbGFzc01lbWJlcihcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbml6ZXIocywgX2NsYXNzLnJhbmdlLnNvdXJjZS5ub3JtYWxpemVkUGF0aCksXHJcbiAgICAgICAgICAgIF9jbGFzc1xyXG4gICAgICAgICk7XHJcbiAgICAgICAgaWYgKHJlcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBwYXJzZSB0aGUgY2xhc3MgbWVtYmVyOiAnXCIgKyBzICsgXCInXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gPERlY2xhcmF0aW9uU3RhdGVtZW50PnJlcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBnZXRUb2tlbml6ZXIoczogc3RyaW5nLCBmaWxlOiBzdHJpbmcgPSBcImluZGV4LnRzXCIpOiBUb2tlbml6ZXIge1xyXG4gICAgICAgIHJldHVybiBuZXcgVG9rZW5pemVyKG5ldyBTb3VyY2UoU291cmNlS2luZC5Vc2VyLCBmaWxlLCBzKSk7XHJcbiAgICB9XHJcbn1cclxuIl19